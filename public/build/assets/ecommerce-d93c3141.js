import{U as e}from"./bootstrap-2a895a5a.js";const c=e("ecommerce",{state:()=>({search:null,orders:[],products:[],categories:[],tags:[],wishlists:[],wallet:null}),actions:{async fetch(){await axios.post("/user/fetch/bot").then(t=>{t.message=="Verify your identify first!"&&(window.location.href="/user/kyc"),this.logs=t.bot_contracts,this.bot_contracts_count_running=t.bot_contracts_count_running,this.bot_contracts_count_completed=t.bot_contracts_count_completed,this.bot_contracts_count_amount=t.bot_contracts_count_amount,this.profit=t.profit})},async fetch_products(){await axios.get("/user/marketplace/fetch").then(t=>{this.wallet=t.wallet,this.products=t.products,this.categories=t.categories,this.tags=Array.from(t.tags).filter(s=>s!==""),this.tags=[...new Set(this.tags.filter(s=>s))];const a=[],i=new Set;this.products.forEach(s=>{i.has(s.id)||(a.push(s),i.add(s.id))}),this.products=a})},async fetch_products_public(){await axios.post("/publicroute/fetch/marketplace").then(t=>{this.products=t.products,this.categories=t.categories,this.tags=Array.from(t.tags).filter(s=>s!==""),this.tags=[...new Set(this.tags.filter(s=>s))];const a=[],i=new Set;this.products.forEach(s=>{i.has(s.id)||(a.push(s),i.add(s.id))}),this.products=a})},async fetch_orders(){this.orders=await axios.get("/user/marketplace/order-history")},async fetch_wishlists(){await axios.get("/user/marketplace/fetch").then(t=>{let a=[];t.products.forEach(i=>{i.in_wishlist&&a.push(i)}),this.wishlists=a})},closeModal(){this.isShowModal=!1},showModal(){this.isShowModal=!0},async activate_order(t){await axios.post("/user/marketplace/order/activate",{trx:t.trx}).then(a=>{this.fetch_orders(),$toast[a.type](a.message)}).catch(a=>{$toast.error(a.response.data.message)})}},persist:!0});export{c as u};
