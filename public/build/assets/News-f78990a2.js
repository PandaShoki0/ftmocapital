import{Q as h,_ as u,o as i,c as a,a as t,n as c,F as g,b as f,d as b,t as l}from"./bootstrap-249b0f62.js";import"./_commonjsHelpers-de833af9.js";import"./dijkstra-f906a09e.js";import"./preload-helper-f61836a9.js";import"./axios-7a713374.js";const p=h("news",{state:()=>({news:[]}),actions:{async fetch(){let e=await fetch("https://min-api.cryptocompare.com/data/v2/news/?lang=EN");if(e.ok){let s=await e.json();this.news=s.Data}else console.log("Fetch Error :-S",e.status)}},persist:!0});const m=function(e){e=0|(Date.now()-new Date(e*1e3))/1e3;var s,r={sec:60,min:60,hr:24,day:7,week:4.35,month:12,year:1e4},o;for(s in r)if(o=e%r[s],!(e=0|e/r[s]))return o+" "+(o-1?s+"s":s)+" ago"},_={filters:{tags:function(e){return e?e.split("|").join(", "):""}},props:["rightbarCollapsed"],setup(){return{newsStore:p()}},data(){return{interval:null}},watch:{rightbarCollapsed(e,s){!e&&s?(this.getNewsIfEmpty(),this.setupInterval()):clearInterval(this.interval)}},created(){this.rightbarCollapsed||(this.getNewsIfEmpty(),this.setupInterval())},beforeUnmount(){clearInterval(this.interval)},methods:{getNewsIfEmpty(){this.newsStore.news.length||this.getNews()},setupInterval(){this.interval||(this.interval=setInterval((function(){this.getNewsIfEmpty()}).bind(this),3e5))},truncateText(e){if(e.length>135){const s=e.substring(0,135);return s.substring(0,s.lastIndexOf(" "))+" ..."}else return e},async getNews(){this.newsStore.fetch()},time_since(e){return e?m(e):""}}},w={class:"supports-backdrop-blur:bg-white/60 flex h-full min-h-0 flex-1 flex-col border-l border-gray-200 bg-white bg-white/95 pt-0 backdrop-blur transition-colors duration-500 dark:border-slate-50/[0.06] dark:bg-transparent lg:border-slate-900/10"},x={class:"flex flex-1 flex-col overflow-x-hidden overflow-y-hidden py-3 pl-4"},y={class:"blog body-font overflow-y-auto overflow-x-hidden text-gray-700"},v={class:"mx-auto space-y-5 px-3"},k={class:"overflow-hidden rounded-lg bg-white shadow-lg"},I={class:"p-4"},N={class:"header-content inline-flex"},C={class:"category-title flex-1 flex-col text-sm"},S=["href"],E={class:"summary-post text-justify text-xs"},j=["innerHTML"],z={class:"mt-4 block rounded bg-blue-100 p-2 text-sm text-blue-500"},D={class:"text-xs"};function T(e,s,r,o,B,d){return i(),a("div",{id:"rightbar",class:c(["fixed right-0 z-40 h-full w-4 flex-shrink-0 flex-col transition-width duration-300",{"rightbar-menu-expanded":!r.rightbarCollapsed}]),style:{"z-index":"100"},"aria-label":"rightbar"},[t("div",w,[t("div",{class:"align-left fixed z-40 grid h-screen w-4 place-items-center border-r border-gray-200 shadow transition-width duration-300 hover:bg-gray-200 dark:border-slate-50/[0.06] dark:hover:bg-gray-600 lg:border-slate-900/10",onClick:s[0]||(s[0]=n=>r.rightbarCollapsed=!r.rightbarCollapsed)},[t("i",{class:c(["bi",{"bi-chevron-left":r.rightbarCollapsed,"bi-chevron-right":!r.rightbarCollapsed}])},null,2)]),t("div",x,[t("section",y,[t("div",v,[(i(!0),a(g,null,f(o.newsStore.news,n=>(i(),a("div",{key:n.id,class:"flex flex-col items-center justify-center pb-5 md:mb-0 md:w-1/3"},[t("div",k,[t("div",{class:"rounded-lg-t h-44 w-full bg-gray-300 bg-cover bg-center shadow-md",style:b("background-image: url("+n.imageurl+");")},null,4),t("div",I,[t("div",N,[s[1]||(s[1]=t("div",{class:"category-badge m-1 h-4 flex-1 rounded-full bg-purple-100",style:{"max-width":"1rem"}},[t("div",{class:"m-1 h-2 w-2 rounded-full bg-purple-500"})],-1)),t("div",C,l(n.source_info.name),1)]),t("div",null,[t("a",{href:n.url,target:"_blank",class:"title-post text-sm font-medium text-gray-900"},l(n.title),9,S)]),t("div",E,[t("p",{innerHTML:d.truncateText(n.body)},null,8,j),t("button",z,[t("span",D,l(d.time_since(n.published_on)),1)])])])])]))),128))])])])])],2)}const Q=u(_,[["render",T],["__scopeId","data-v-84b4a45a"]]);export{Q as default};
