import{S as m}from"./sweetalert2-50e64164.js";import{_ as b,o as i,c as l,a as s,t as o,F as d,b as h,n as r,g as u}from"./bootstrap-249b0f62.js";import"./_commonjsHelpers-de833af9.js";import"./dijkstra-f906a09e.js";import"./preload-helper-f61836a9.js";import"./axios-7a713374.js";window.Swal=m;$("#bootstrap-style")[0].href="/userassets/css/bootstrap.min.css";const f={data(){return{planData:{basic:{sitename:"Plan"},plans:[]}}},methods:{fetchPlans(){axios.get("/user/fetch-plans").then(n=>{if(n.type=="success"){this.planData=n.data,this.planData.userPlan&&!this.planData.userPlan.is_paid&&this.showUpgradeModal(this.planData.userPlan);for(let a of this.planData.plans)a.details=JSON.parse(a.details)}})},showUpgradeModal(n){Swal.fire({title:"UPGRADE REQUESTED",text:`You have requested for an upgrade to ${n.title}! Kindly make a deposit of ${parseFloat(n.rate).toFixed(this.planData.user.ccy.decimal_digits)} to activate this plan!`,icon:"info",dangerMode:!1,showCancelButton:!0,confirmButtonText:"Deposit Now",cancelButtonText:"Later"}).then(a=>{console.log(a),a.isConfirmed&&(window.location.href="/app/wallets")})},submitForm(n){axios.post("/user/plan",{plan_id:n.id}).then(a=>{a.type=="success"&&(this.showUpgradeModal(n),this.planData.userPlan=n)}),console.log("preventDefault",n)}},created(){$("#bootstrap-style")[0].href="/userassets/css/bootstrap.min.css"},mounted(){this.fetchPlans()}},_={class:"row no-gutters mt-3 mb-3"},D={class:"col-xl-3 col-sm-6"},g={class:"card-body"},y={class:"p-2"},P={class:"mb-3 font-size-15"},v={class:"mt-4 pt-2"},w={key:0},x=["onClick"],k={key:1},F=["value"],T=["onClick"],A={key:2,href:"javascript::void()",class:"btn btn-lg btn-outline-warning"},C={key:3,class:"btn btn-lg btn-outline-info",href:"javascript::void();"},S={key:4,href:"javascript::void();",class:"btn btn-lg btn-danger"};function U(n,a,B,E,t,p){return i(),l("div",null,[a[2]||(a[2]=s("h4",{class:"mt-0 mb-0"},"Account Types",-1)),s("p",null,"Manage the type of account you want to use on "+o(t.planData.basic.sitename),1),s("div",_,[(i(!0),l(d,null,h(t.planData.plans,e=>(i(),l("div",D,[s("div",{class:r(["card","mb-xl-0",t.planData.userPlan&&t.planData.userPlan.id==e.id?"bg-primary":""]),style:{"background-color":"rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important"}},[s("div",g,[s("div",y,[s("h5",{class:r(["font-size-16",t.planData.userPlan&&t.planData.userPlan.id==e.id?"text-white":""])},o(e.title),3),s("h1",{class:r(["mt-3",t.planData.userPlan&&t.planData.userPlan.id==e.id?"text-white":""])},o(t.planData.user.ccy.symbol)+o(parseFloat(e.rate).toFixed(t.planData.user.ccy.decimal_digits)),3),s("div",{class:r(["mt-4","pt-2",t.planData.userPlan&&t.planData.userPlan.id==e.id?"text-white":""])},[(i(!0),l(d,null,h(e.details,c=>(i(),l("p",P,[s("i",{class:r(["mdi","mdi-check-circle",t.planData.userPlan&&t.planData.userPlan.id==e.id?"text-light":"","font-size-18","me-2"])},null,2),u(" "+o(c),1)]))),256))],2),s("div",v,[t.planData.userPlan?t.planData.userPlan&&t.planData.userPlan.id!=e.id?(i(),l("div",k,[s("input",{type:"hidden",name:"plan_id",value:e.id},null,8,F),s("button",{type:"submit",onClick:c=>p.submitForm(e),class:"btn btn-lg btn-outline-primary w-100"},a[1]||(a[1]=[u(" Upgrade Account Type "),s("i",{class:"fa fa-arrow-right"},null,-1)]),8,T)])):t.planData.userPlan&&t.planData.userPlan.id==e.id&&!t.planData.userPlan.is_paid?(i(),l("a",A," Requested Account-Type ")):t.planData.userPlan&&t.planData.userPlan.id==e.id&&t.planData.userPlan.is_paid?(i(),l("a",C,"Active")):(i(),l("a",S," Not Active ")):(i(),l("div",w,[s("button",{type:"button",id:"upgrade-acc",onClick:c=>p.submitForm(e),class:"btn btn-lg btn-outline-primary w-100"},a[0]||(a[0]=[u(" Upgrade Account Type "),s("i",{class:"fa fa-arrow-right"},null,-1)]),8,x)]))])])])],2)]))),256))])])}const L=b(f,[["render",U]]);export{L as default};
