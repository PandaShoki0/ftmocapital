import{u as k}from"./orders-b758937e.js";import{F as v}from"./Filter-f10b47ed.js";import{C as P}from"./Col-4463c6d7.js";import{t as w}from"./toDate-035af62a.js";import{_ as C,r as d,o as u,c as g,a as e,t as l,i as s,w as a,h as T,X as V,F as D,d as B,n as F,e as O,g as m,f as S}from"./bootstrap-9979bcf7.js";import"./_commonjsHelpers-de833af9.js";import"./browser-77dd377d.js";import"./preload-helper-f61836a9.js";import"./axios-4a70c6fc.js";const N={components:{Filter:v,Col:P,toDate:w},setup(){const r=k();return r.fetchUserOrders(),{p2pOrderStore:r}},data(){return{filters:{trx:{value:"",keys:["trx"]}},currentPage:1,totalPages:0}},computed:{orders(){return this.p2pOrderStore.userOrders}},methods:{statusBadgeClass(r){let t="badge ";switch(r){case"open":t+="bg-info";break;case"completed":t+="bg-success";break;case"pending":t+="bg-warning";break;case"cancelled":t+="bg-danger";break;case"paid":t+="bg-primary";break;default:t+="bg-secondary"}return t}}},U={class:"mb-4 items-center justify-between xs:block xs:space-y-5 sm:flex sm:space-y-0"},z={class:"text-2xl font-bold"},A={class:"card relative overflow-x-auto"},L={class:"bg-gray-100 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},M={scope:"col",class:"py-3 px-6"},j={"data-label":"Date",class:"py-4 px-6"},I={"data-label":"Trx",class:"py-4 px-6"},E={"data-label":"Amount",class:"py-4 px-6"},X={"data-label":"Status",class:"py-4 px-6"},q={"data-label":"Actions",class:"py-4 px-6"},G={class:"sr-only"},H=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),J={class:"sr-only"},K=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1);function Q(r,t,R,W,n,_){const x=d("Filter"),i=d("Col"),p=d("VTh"),b=d("toDate"),y=d("router-link"),f=d("VTable"),h=d("VTPagination");return u(),g("div",null,[e("div",U,[e("h1",z,l(r.$t("My Orders")),1),s(x,null,{default:a(()=>[T(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>n.filters.trx.value=o),type:"text",class:"filter-input",placeholder:"Transaction ID"},null,512),[[V,n.filters.trx.value]])]),_:1})]),e("div",A,[s(f,{"current-page":n.currentPage,"onUpdate:currentPage":t[1]||(t[1]=o=>n.currentPage=o),class:"w-full text-left text-sm text-gray-500 dark:text-gray-400",data:_.orders,"page-size":10,"hide-sort-icons":!0,onTotalPagesChanged:t[2]||(t[2]=o=>n.totalPages=o)},{head:a(()=>[e("tr",L,[s(p,{"sort-key":"created_at",scope:"col",class:"py-3 px-6"},{default:a(()=>[s(i,{text:"Date"})]),_:1}),s(p,{"sort-key":"trx",scope:"col",class:"py-3 px-6"},{default:a(()=>[s(i,{text:"Transaction ID"})]),_:1}),s(p,{"sort-key":"amount",scope:"col",class:"py-3 px-6"},{default:a(()=>[s(i,{text:"Amount"})]),_:1}),s(p,{"sort-key":"status",scope:"col",class:"py-3 px-6"},{default:a(()=>[s(i,{text:"Status"})]),_:1}),e("th",M,[s(i,{text:"Actions"})])])]),body:a(({rows:o})=>[(u(!0),g(D,null,B(o,c=>(u(),g("tr",{key:c.id,class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},[e("td",j,[s(b,{time:c.created_at},null,8,["time"])]),e("td",I,l(c.trx),1),e("td",E,l(c.amount),1),e("td",X,[e("span",{class:F(_.statusBadgeClass(c.status))},l(c.status),3)]),e("td",q,[c.status!=="cancelled"?(u(),O(y,{key:0,to:"/p2p/order/"+c.id,class:"btn btn-outline-primary btn-sm"},{default:a(()=>[m(l(r.$t("View order")),1)]),_:2},1032,["to"])):S("",!0)])]))),128))]),_:1},8,["current-page","data"]),s(h,{currentPage:n.currentPage,"onUpdate:currentPage":t[3]||(t[3]=o=>n.currentPage=o),class:"float-right flex items-center justify-between pt-4","aria-label":"Table navigation","total-pages":n.totalPages,"max-page-links":3,"boundary-links":!0},{firstPage:a(()=>[m(l(r.$t("First")),1)]),lastPage:a(()=>[m(l(r.$t("Last")),1)]),next:a(()=>[e("span",G,l(r.$t("Next")),1),H]),previous:a(()=>[e("span",J,l(r.$t("Previous")),1),K]),_:1},8,["currentPage","total-pages"])])])}const le=C(N,[["render",Q]]);export{le as default};
