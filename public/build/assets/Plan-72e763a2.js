import{s as m}from"./user-9b7882ec.js";import{_,o as n,c as i,a as s,t as l,F as d,d as h,n as r,g as p}from"./bootstrap-26bee35b.js";import"./preload-helper-f61836a9.js";import"./user-7d9b5f4d.js";import"./flowbite-vue-a1a41228.js";import"./_commonjsHelpers-de833af9.js";import"./browser-77dd377d.js";import"./axios-4a70c6fc.js";window.Swal=m;$("#bootstrap-style")[0].href="/userassets/css/bootstrap.min.css";const b={data(){return{planData:{basic:{sitename:"Plan"},plans:[]}}},methods:{fetchPlans(){axios.get("/user/fetch-plans").then(e=>{if(e.type=="success"){this.planData=e.data,this.planData.userPlan&&!this.planData.userPlan.is_paid&&this.showUpgradeModal(this.planData.userPlan);for(let o of this.planData.plans)o.details=JSON.parse(o.details)}})},showUpgradeModal(e){Swal.fire({title:"UPGRADE REQUESTED",text:`You have requested for an upgrade to ${e.title}! Kindly make a deposit of ${parseFloat(e.rate).toFixed(this.planData.user.ccy.decimal_digits)} to activate this plan!`,icon:"info",dangerMode:!1,showCancelButton:!0,confirmButtonText:"Deposit Now",cancelButtonText:"Later"}).then(o=>{console.log(o),o.isConfirmed&&(window.location.href="/app/wallets")})},submitForm(e){axios.post("/user/plan",{plan_id:e.id}).then(o=>{o.type=="success"&&(this.showUpgradeModal(e),this.planData.userPlan=e)}),console.log("preventDefault",e)}},created(){$("#bootstrap-style")[0].href="/userassets/css/bootstrap.min.css"},mounted(){this.fetchPlans()}},f=s("h4",{class:"mt-0 mb-0"},"Account Types",-1),D={class:"row no-gutters mt-3 mb-3"},g={class:"col-xl-3 col-sm-6"},y={class:"card-body"},P={class:"p-2"},v={class:"mb-3 font-size-15"},w={class:"mt-4 pt-2"},x={key:0},k=["onClick"],F=s("i",{class:"fa fa-arrow-right"},null,-1),T={key:1},A=["value"],C=["onClick"],U=s("i",{class:"fa fa-arrow-right"},null,-1),B={key:2,href:"javascript::void()",class:"btn btn-lg btn-outline-warning"},E={key:3,class:"btn btn-lg btn-outline-info",href:"javascript::void();"},M={key:4,href:"javascript::void();",class:"btn btn-lg btn-danger"};function N(e,o,S,z,t,u){return n(),i("div",null,[f,s("p",null,"Manage the type of account you want to use on "+l(t.planData.basic.sitename),1),s("div",D,[(n(!0),i(d,null,h(t.planData.plans,a=>(n(),i("div",g,[s("div",{class:r(["card","mb-xl-0",t.planData.userPlan&&t.planData.userPlan.id==a.id?"bg-primary":""]),style:{"background-color":"rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important"}},[s("div",y,[s("div",P,[s("h5",{class:r(["font-size-16",t.planData.userPlan&&t.planData.userPlan.id==a.id?"text-white":""])},l(a.title),3),s("h1",{class:r(["mt-3",t.planData.userPlan&&t.planData.userPlan.id==a.id?"text-white":""])},l(t.planData.user.ccy.symbol)+l(parseFloat(a.rate).toFixed(t.planData.user.ccy.decimal_digits)),3),s("div",{class:r(["mt-4","pt-2",t.planData.userPlan&&t.planData.userPlan.id==a.id?"text-white":""])},[(n(!0),i(d,null,h(a.details,c=>(n(),i("p",v,[s("i",{class:r(["mdi","mdi-check-circle",t.planData.userPlan&&t.planData.userPlan.id==a.id?"text-light":"","font-size-18","me-2"])},null,2),p(" "+l(c),1)]))),256))],2),s("div",w,[t.planData.userPlan?t.planData.userPlan&&t.planData.userPlan.id!=a.id?(n(),i("div",T,[s("input",{type:"hidden",name:"plan_id",value:a.id},null,8,A),s("button",{type:"submit",onClick:c=>u.submitForm(a),class:"btn btn-lg btn-outline-primary w-100"},[p(" Upgrade Account Type "),U],8,C)])):t.planData.userPlan&&t.planData.userPlan.id==a.id&&!t.planData.userPlan.is_paid?(n(),i("a",B," Requested Account-Type ")):t.planData.userPlan&&t.planData.userPlan.id==a.id&&t.planData.userPlan.is_paid?(n(),i("a",E,"Active")):(n(),i("a",M," Not Active ")):(n(),i("div",x,[s("button",{type:"button",id:"upgrade-acc",onClick:c=>u.submitForm(a),class:"btn btn-lg btn-outline-primary w-100"},[p(" Upgrade Account Type "),F],8,k)]))])])])],2)]))),256))])])}const O=_(b,[["render",N]]);export{O as default};
