import{u as k}from"./orders-5a44ff95.js";import{F as v}from"./Filter-3bb21f90.js";import{C as P}from"./Col-3a6cbfed.js";import{t as w}from"./toDate-734c7690.js";import{_ as C,r as d,o as u,c as g,a as t,t as l,i as s,w as a,h as T,U as V,F as D,b as B,n as F,e as O,g as m,f as S}from"./bootstrap-249b0f62.js";import"./_commonjsHelpers-de833af9.js";import"./dijkstra-f906a09e.js";import"./preload-helper-f61836a9.js";import"./axios-7a713374.js";const U={components:{Filter:v,Col:P,toDate:w},setup(){const r=k();return r.fetchUserOrders(),{p2pOrderStore:r}},data(){return{filters:{trx:{value:"",keys:["trx"]}},currentPage:1,totalPages:0}},computed:{orders(){return this.p2pOrderStore.userOrders}},methods:{statusBadgeClass(r){let e="badge ";switch(r){case"open":e+="bg-info";break;case"completed":e+="bg-success";break;case"pending":e+="bg-warning";break;case"cancelled":e+="bg-danger";break;case"paid":e+="bg-primary";break;default:e+="bg-secondary"}return e}}},N={class:"mb-4 items-center justify-between xs:block xs:space-y-5 sm:flex sm:space-y-0"},z={class:"text-2xl font-bold"},A={class:"card relative overflow-x-auto"},L={class:"bg-gray-100 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},M={scope:"col",class:"py-3 px-6"},j={"data-label":"Date",class:"py-4 px-6"},I={"data-label":"Trx",class:"py-4 px-6"},E={"data-label":"Amount",class:"py-4 px-6"},q={"data-label":"Status",class:"py-4 px-6"},G={"data-label":"Actions",class:"py-4 px-6"},H={class:"sr-only"},J={class:"sr-only"};function K(r,e,Q,R,n,x){const b=d("Filter"),i=d("Col"),p=d("VTh"),_=d("toDate"),y=d("router-link"),f=d("VTable"),h=d("VTPagination");return u(),g("div",null,[t("div",N,[t("h1",z,l(r.$t("My Orders")),1),s(b,null,{default:a(()=>[T(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>n.filters.trx.value=o),type:"text",class:"filter-input",placeholder:"Transaction ID"},null,512),[[V,n.filters.trx.value]])]),_:1})]),t("div",A,[s(f,{"current-page":n.currentPage,"onUpdate:currentPage":e[1]||(e[1]=o=>n.currentPage=o),class:"w-full text-left text-sm text-gray-500 dark:text-gray-400",data:x.orders,"page-size":10,"hide-sort-icons":!0,onTotalPagesChanged:e[2]||(e[2]=o=>n.totalPages=o)},{head:a(()=>[t("tr",L,[s(p,{"sort-key":"created_at",scope:"col",class:"py-3 px-6"},{default:a(()=>[s(i,{text:"Date"})]),_:1}),s(p,{"sort-key":"trx",scope:"col",class:"py-3 px-6"},{default:a(()=>[s(i,{text:"Transaction ID"})]),_:1}),s(p,{"sort-key":"amount",scope:"col",class:"py-3 px-6"},{default:a(()=>[s(i,{text:"Amount"})]),_:1}),s(p,{"sort-key":"status",scope:"col",class:"py-3 px-6"},{default:a(()=>[s(i,{text:"Status"})]),_:1}),t("th",M,[s(i,{text:"Actions"})])])]),body:a(({rows:o})=>[(u(!0),g(D,null,B(o,c=>(u(),g("tr",{key:c.id,class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},[t("td",j,[s(_,{time:c.created_at},null,8,["time"])]),t("td",I,l(c.trx),1),t("td",E,l(c.amount),1),t("td",q,[t("span",{class:F(x.statusBadgeClass(c.status))},l(c.status),3)]),t("td",G,[c.status!=="cancelled"?(u(),O(y,{key:0,to:"/p2p/order/"+c.id,class:"btn btn-outline-primary btn-sm"},{default:a(()=>[m(l(r.$t("View order")),1)]),_:2},1032,["to"])):S("",!0)])]))),128))]),_:1},8,["current-page","data"]),s(h,{currentPage:n.currentPage,"onUpdate:currentPage":e[3]||(e[3]=o=>n.currentPage=o),class:"float-right flex items-center justify-between pt-4","aria-label":"Table navigation","total-pages":n.totalPages,"max-page-links":3,"boundary-links":!0},{firstPage:a(()=>[m(l(r.$t("First")),1)]),lastPage:a(()=>[m(l(r.$t("Last")),1)]),next:a(()=>[t("span",H,l(r.$t("Next")),1),e[4]||(e[4]=t("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))]),previous:a(()=>[t("span",J,l(r.$t("Previous")),1),e[5]||(e[5]=t("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))]),_:1},8,["currentPage","total-pages"])])])}const re=C(U,[["render",K]]);export{re as default};
