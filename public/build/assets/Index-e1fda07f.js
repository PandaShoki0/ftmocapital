import{P as M}from"./ProductCard-51ca026b.js";import{_ as b,o as s,c as i,a as e,t as l,n as c,F as f,d as k,g as x,q as z,f as P,a4 as F,r as m,h as w,W as C,i as h,w as p,e as _,z as A,T as N}from"./bootstrap-26bee35b.js";import{u as T}from"./ecommerce-99ede902.js";import"./PurchaseModal-83b356f3.js";import"./flowbite-vue-a1a41228.js";import"./wallets-22de70af.js";import"./_commonjsHelpers-de833af9.js";import"./browser-77dd377d.js";import"./preload-helper-f61836a9.js";import"./axios-4a70c6fc.js";const L={props:{categories:{type:Array,required:!0},selectedCategoryId:{type:Number,default:null}},emits:["update:selectedCategoryId"],methods:{resetCategoryFilter(){this.$emit("update:selectedCategoryId",null)},filterByCategory(t){this.$emit("update:selectedCategoryId",t)}}},V={class:"mt-2 flex items-center justify-between border-gray-200 py-1 px-3 text-sm font-medium uppercase text-gray-500 dark:border-gray-700 dark:text-gray-400"},j=e("hr",{class:"border-gray-200 dark:border-gray-700"},null,-1),q={class:"space-y-1 p-2"},H=e("svg",{"aria-hidden":"true",class:"h-6 w-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"}),e("path",{d:"M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"})],-1),R=["onClick"];function D(t,o,a,n,u,d){return s(),i("div",null,[e("div",V,[e("h3",null,l(t.$t("Categories")),1)]),j,e("ul",q,[e("li",null,[e("a",{class:c(["flex items-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",a.selectedCategoryId===null?"border-l-4 border-blue-400 bg-gray-100 dark:bg-gray-700":""]),onClick:o[0]||(o[0]=(...r)=>d.resetCategoryFilter&&d.resetCategoryFilter(...r))},[H,e("span",{class:c(["ml-3",{"text-black dark:text-white":a.selectedCategoryId===null,"text-black dark:text-white":a.selectedCategoryId!==null}])},l(t.$t("All")),3)],2)]),e("li",null,[(s(!0),i(f,null,k(a.categories,(r,g)=>(s(),i("a",{key:g,class:c(["flex items-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",{"":a.selectedCategoryId!==r.id,"border-l-4 border-blue-400 bg-gray-100 dark:bg-gray-700":a.selectedCategoryId===r.id}]),onClick:v=>d.filterByCategory(r.id)},[e("div",{class:c(["h-6 w-6 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",{"text-black dark:text-white":a.selectedCategoryId===null||a.selectedCategoryId!==r.id,"text-white dark:text-white":a.selectedCategoryId===r.id}])},[e("i",{class:c(r.icon?"bi bi-"+r.icon:"")},null,2)],2),e("span",{class:c(["ml-3",{"text-black dark:text-white":a.selectedCategoryId===null||a.selectedCategoryId!==r.id,"text-white dark:text-white":a.selectedCategoryId===r.id}])},l(r.name),3)],10,R))),128))])])])}const E=b(L,[["render",D]]),U={props:{tags:{type:Array,required:!0},activeTag:{type:String,required:!1}},emits:["filterByTag","removeTag"],methods:{filterByTag(t){this.$emit("filterByTag",t)},removeTag(){this.$emit("removeTag")}}},O={class:"mt-5 flex items-center justify-between py-1 px-3 text-sm font-medium uppercase text-gray-500 dark:text-gray-400"},W=e("hr",{class:"border-gray-200 dark:border-gray-700"},null,-1),G={class:"p-2"},J=["onClick"],K=["onClick"],Q=e("svg",{"aria-hidden":"true",class:"h-3.5 w-3.5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),X=e("span",{class:"sr-only"},"Remove badge",-1),Y=[Q,X];function Z(t,o,a,n,u,d){return s(),i("div",null,[e("div",O,[e("h3",null,l(t.$t("Tags")),1)]),W,e("div",G,[(s(!0),i(f,null,k(a.tags,(r,g)=>(s(),i("span",{key:g,class:c(["mr-2 mb-2 inline-flex items-center px-1 py-1 text-sm font-medium",{"rounded bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":a.activeTag===r," rounded bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":a.activeTag!==r}]),onClick:v=>d.filterByTag(r)},[x(l(r)+" ",1),a.activeTag===r?(s(),i("button",{key:0,type:"button",class:"ml-2 inline-flex items-center rounded-sm bg-transparent p-0.5 text-sm text-indigo-400 hover:bg-indigo-200 hover:text-indigo-900 dark:hover:bg-indigo-800 dark:hover:text-indigo-300","aria-label":"Remove",onClick:z(v=>d.removeTag(r),["stop"])},Y,8,K)):P("",!0)],10,J))),128))])])}const ee=b(U,[["render",Z]]),te={name:"ProductSidebar"},re={ref:"asideElement","aria-label":"Sidebar"},ae={class:"h-full overflow-y-auto"};function oe(t,o,a,n,u,d){return s(),i("aside",re,[e("div",ae,[F(t.$slots,"default")])],512)}const se=b(te,[["render",oe]]),de={setup(){return{ecommerceStore:T()}}},le={class:"rounded border-gray-200 bg-white px-2 py-2.5 dark:bg-gray-900 sm:px-4"},ie={class:"container mx-auto flex flex-wrap items-center justify-between"},ne={class:"self-center whitespace-nowrap text-xl font-semibold dark:text-white"},ce={class:"flex md:order-2"},ge={type:"button","data-collapse-toggle":"navbar-search","aria-controls":"navbar-search","aria-expanded":"false",class:"mr-1 rounded-lg p-2.5 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-700 md:hidden"},ue=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})],-1),he={class:"sr-only"},me={class:"relative hidden md:block"},pe={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},ye=e("svg",{class:"h-5 w-5 text-gray-500","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})],-1),be={class:"sr-only"},ve={"data-collapse-toggle":"navbar-search",type:"button",class:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 md:hidden","aria-controls":"navbar-search","aria-expanded":"false"},xe={class:"sr-only"},fe=e("svg",{class:"h-6 w-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1),_e={id:"navbar-search",class:"hidden w-full items-center justify-between md:order-1 md:flex md:w-auto"},ke={class:"relative mt-3 md:hidden"},we=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"h-5 w-5 text-gray-500","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),Ce={class:"mt-4 flex flex-col rounded-lg border border-gray-100 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-800 md:mt-0 md:flex-row md:space-x-8 md:border-0 md:bg-white md:text-sm md:font-medium md:dark:bg-gray-900"};function Te(t,o,a,n,u,d){const r=m("router-link");return s(),i("nav",le,[e("div",ie,[e("span",ne,l(t.$t("Marketplace")),1),e("div",ce,[e("button",ge,[ue,e("span",he,l(t.$t("Search")),1)]),e("div",me,[e("div",pe,[ye,e("span",be,l(t.$t("Search icon")),1)]),w(e("input",{id:"search-navbar","onUpdate:modelValue":o[0]||(o[0]=g=>n.ecommerceStore.search=g),type:"text",class:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Search..."},null,512),[[C,n.ecommerceStore.search]])]),e("button",ve,[e("span",xe,l(t.$t("Open menu")),1),fe])]),e("div",_e,[e("div",ke,[we,w(e("input",{id:"search-navbar","onUpdate:modelValue":o[1]||(o[1]=g=>n.ecommerceStore.search=g),type:"text",class:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Search..."},null,512),[[C,n.ecommerceStore.search]])]),e("ul",Ce,[e("li",null,[h(r,{to:"/marketplace/index",class:c(t.$route.path=="/marketplace/index"?"block rounded bg-blue-700 py-2 pl-3 pr-4 text-white dark:text-white md:bg-transparent md:p-0 md:text-blue-700":"block rounded py-2 pl-3 pr-4 text-gray-700 hover:bg-gray-100 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:p-0 md:hover:bg-transparent md:hover:text-blue-700 md:dark:hover:bg-transparent md:dark:hover:text-white"),"aria-current":"page"},{default:p(()=>[x(l(t.$t("Products")),1)]),_:1},8,["class"])]),e("li",null,[h(r,{to:"/marketplace/wishlist",class:c(t.$route.path=="/marketplace/wishlist"?"block rounded bg-blue-700 py-2 pl-3 pr-4 text-white dark:text-white md:bg-transparent md:p-0 md:text-blue-700":"block rounded py-2 pl-3 pr-4 text-gray-700 hover:bg-gray-100 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:p-0 md:hover:bg-transparent md:hover:text-blue-700 md:dark:hover:bg-transparent md:dark:hover:text-white")},{default:p(()=>[x(l(t.$t("Wishlist")),1)]),_:1},8,["class"])]),e("li",null,[h(r,{to:"/marketplace/order-history",class:c(t.$route.path=="/marketplace/wishlist"?"block rounded bg-blue-700 py-2 pl-3 pr-4 text-white dark:text-white md:bg-transparent md:p-0 md:text-blue-700":"block rounded py-2 pl-3 pr-4 text-gray-700 hover:bg-gray-100 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:p-0 md:hover:bg-transparent md:hover:text-blue-700 md:dark:hover:bg-transparent md:dark:hover:text-white")},{default:p(()=>[x(l(t.$t("Orders")),1)]),_:1},8,["class"])])])])])])}const $e=b(de,[["render",Te]]),Se={components:{ProductCard:M,Categories:E,Tags:ee,ProductSidebar:se,Navigation:$e},emits:["refreshProducts"],setup(){return{ecommerceStore:T()}},data(){return{selectedCategoryId:null,selectedTag:null,activeCategory:null,activeTag:null,component:null}},computed:{filteredProducts(){let t=this.ecommerceStore.products;return this.selectedCategoryId!==null&&(t=t.filter(o=>o.category_id===this.selectedCategoryId)),this.selectedTag!==null&&(t=t.filter(o=>o.tags.includes(this.selectedTag))),this.ecommerceStore.search&&(t=t.filter(o=>o.name.toLowerCase().includes(this.ecommerceStore.search.toLowerCase()))),t}},watch:{$route(t,o){t.meta.title!=="Marketplace"?this.component=t.path:this.component=null}},mounted(){this.$route.meta.title!=="Marketplace"?this.component=this.$route.path:this.component=null,this.fetch()},methods:{removeTag(){this.selectedTag=null,this.activeTag=null},async fetch(){this.ecommerceStore.products.length==0&&(await this.ecommerceStore.fetch_products_public(),await this.ecommerceStore.fetch_products())},filterByCategory(t){this.selectedCategoryId=t,this.selectedTag=null,this.activeCategory=t,this.activeTag=null},resetCategoryFilter(){this.selectedCategoryId=null,this.activeCategory=null},handleFilterByTag(t){this.selectedTag=t,this.selectedCategoryId=null,this.activeTag=t,this.activeCategory=null},isCategoryActive(t){return this.activeCategory===t},isTagActive(t){return t.includes(this.activeTag)}}},Ie={key:0,class:"grid gap-5 overflow-x-hidden xs:grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},Be={class:"col-span-1"},Me={class:"md:col-span-2 lg:col-span-3 xl:col-span-4"},ze={class:"rounded-lg p-5"},Pe={class:"grid grid-cols-1 gap-5 py-5 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};function Fe(t,o,a,n,u,d){const r=m("Navigation"),g=m("Categories"),v=m("Tags"),$=m("ProductSidebar"),S=m("ProductCard"),I=m("router-view");return s(),i(f,null,[h(r),u.component==null?(s(),i("div",Ie,[e("div",Be,[h($,null,{default:p(()=>[h(g,{categories:n.ecommerceStore.categories,"selected-category-id":u.selectedCategoryId,"onUpdate:selectedCategoryId":o[0]||(o[0]=y=>u.selectedCategoryId=y)},null,8,["categories","selected-category-id"]),h(v,{tags:n.ecommerceStore.tags,"active-tag":u.activeTag,onFilterByTag:d.handleFilterByTag,onRemoveTag:d.removeTag},null,8,["tags","active-tag","onFilterByTag","onRemoveTag"])]),_:1})]),e("div",Me,[e("div",ze,[e("div",Pe,[(s(!0),i(f,null,k(d.filteredProducts,(y,B)=>(s(),_(S,{key:B,product:y},null,8,["product"]))),128))])])])])):(s(),_(I,{key:1},{default:p(({Component:y})=>[h(N,{type:"animation",name:"zoom-fade",mode:"out-in",duration:300},{default:p(()=>[(s(),_(A(y)))]),_:2},1024)]),_:1}))],64)}const Ue=b(Se,[["render",Fe]]);export{Ue as default};
