import{c as d,a as r,B as l,b as g,d as u,g as m,f,W as b,j as h,e as w,h as y,i as p,k as C,m as S,o as v,p as L}from"./index-a526c5e9.js";import"./_commonjsHelpers-de833af9.js";import"./preload-helper-f61836a9.js";const a=walletconnectid,n=[w,y,p,C,S,v,L],{provider:B}=d(n,[b({projectId:a})]),E=r({autoConnect:!1,connectors:l({chains:n,version:1,projectId:a}),provider:B,storage:g({storage:window.localStorage})}),j=new h(E,n);new u({projectId:a},j);let t=document.querySelector("button");const I=document.getElementById("connect-button");let s=document.getElementById("spinnerWeb3");I.addEventListener("click",async()=>{s.classList.remove("hidden"),t.disabled=!0;const o=m();if(o.isConnected==!0){const i=await axios.get("/_web3/signature").then(e=>e.data),c=await(await f()).signMessage(i);$.ajax({headers:{"X-CSRF-TOKEN":csrf},url:"/_web3/login",method:"POST",data:{address:o.address,signature:c},success:function(e){e.success==!0?(notify(e.type,e.message),window.location.href="/app"):notify(e.type,e.message),s.classList.add("hidden"),t.disabled=!1},error:function(e){console.log(e),s.classList.add("hidden"),t.disabled=!1}})}else notify("error","Connect your wallet firstly"),s.classList.add("hidden"),t.disabled=!1});
