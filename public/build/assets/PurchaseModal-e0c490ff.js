import{u as f}from"./ecommerce-b160e1fe.js";import{_ as m,o as l,c,a as s,n as b,r as _,e as u,w as r,t as o,f as v,T as y}from"./bootstrap-249b0f62.js";import{K as g}from"./flowbite-vue-7e69f603.js";import{u as x}from"./wallets-92ad6f06.js";const w={props:{productId:{type:Number,required:!0},isActive:{type:Boolean,required:!0},size:{type:String,default:"text-xl"},color:{type:String,default:"text-gray-500"}},emits:["update:isActive"],setup(){return{ecommerceStore:f()}},methods:{async addToWishlist(){await axios.post("/user/marketplace/wishlist/"+(this.isActive==!0?"remove":"add"),{id:this.productId}).then(t=>{this.$route.meta.title=="Wishlist"?this.ecommerceStore.fetch_wishlists():(this.ecommerceStore.fetch_products(),this.ecommerceStore.fetch_wishlists()),this.$toast[t.type](t.message),this.$emit("update:isActive",!this.isActive)}).catch(t=>{this.$toast.error(t.response.message)})}}};function S(t,e,i,h,p,a){return l(),c("a",{class:"flex items-center justify-center",onClick:e[0]||(e[0]=d=>a.addToWishlist())},[s("i",{class:b(["bi bi-heart-fill",[i.isActive?"bi bi-heart-fill text-danger":"",i.size,i.color]]),style:{margin:"0 !important"}},null,2)])}const I=m(w,[["render",S]]),C={components:{Modal:g},props:{product:{type:Object,required:!0},wallet:{type:Object,default:null},visible:{type:Boolean,required:!0},loading:{type:Boolean,default:!1}},emits:["close","purchase"],setup(){return{walletsStore:x()}},computed:{productPrice(){return this.product.price-this.product.discount}},methods:{onPurchase(){this.$emit("purchase",this.product.id)},CreateWallet(){this.walletsStore.create("USDT","funding")}}},k={class:"flex items-center text-lg"},$={id:"modal-headline",class:"text-lg font-medium leading-6"},W={class:"mb-5 text-sm"},B={class:"mb- text-lg font-medium"},P={key:0},A={class:"flex items-center"},T={class:"text-warning font-medium"},j={key:1},q={class:"flex justify-end"},z=["disabled"];function M(t,e,i,h,p,a){const d=_("Modal");return l(),u(y,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:r(()=>[i.visible?(l(),u(d,{key:0,size:"2xl",onClose:e[3]||(e[3]=n=>t.$emit("close"))},{header:r(()=>[s("div",k,[s("h3",$,o(i.product.name),1)])]),body:r(()=>[s("p",W,o(i.product.description),1),s("p",B,"$"+o(a.productPrice),1),i.wallet?(l(),c("div",P,[e[4]||(e[4]=s("label",{for:"wallet_id"},"USDT Funding Wallet:",-1)),s("div",A,[s("span",T,o(Number(i.wallet.balance).toFixed(2))+" "+o(i.wallet.symbol),1)])])):(l(),c("div",j,[s("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=n=>a.CreateWallet())},o(t.$t("Create Wallet")),1)]))]),footer:r(()=>[s("div",q,[s("button",{type:"button",class:"btn btn-outline-success mr-3",disabled:i.loading,onClick:e[1]||(e[1]=n=>a.onPurchase())}," Purchase ",8,z),s("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[2]||(e[2]=n=>t.$emit("close"))},o(t.$t("Cancel")),1)])]),_:1})):v("",!0)]),_:1})}const K=m(C,[["render",M]]);export{K as P,I as W};
