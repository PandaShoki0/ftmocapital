import{t as W}from"./toMoney-eef014ed.js";import{t as B}from"./toDate-035af62a.js";import{F as N}from"./Filter-f10b47ed.js";import{C as F}from"./Col-4463c6d7.js";import{u as z}from"./staking-09287c3c.js";import{u as E}from"./user-4c9e2e6d.js";import{K as q}from"./flowbite-vue-3e651750.js";import{B as K}from"./ButtonLoading-97716eba.js";import{u as R}from"./user-42094733.js";import{_ as X,r as u,m as Y,o as i,c as d,a as t,t as e,i as m,w as l,h as _,X as M,e as p,F as x,d as D,g as b,f as y,W as G,T as C,q as w}from"./bootstrap-9979bcf7.js";import"./preload-helper-f61836a9.js";import"./_commonjsHelpers-de833af9.js";import"./axios-4a70c6fc.js";import"./browser-77dd377d.js";const H={components:{toDate:B,toMoney:W,Filter:N,Col:F,Modal:q,ButtonLoading:K},setup(){const o=E(),n=z(),{showAllAlertsSequentially:P,hasLicensePrompt:s,hasLimitExceeded:g,hasPend:k}=R();return{showAllAlertsSequentially:P,hasLicensePrompt:s,hasLimitExceeded:g,hasPend:k,userStore:o,stakingStore:n}},data(){return{plat,filters:{symbol:{value:"",keys:["symbol"]}},currentPage:1,totalPages:0,amount:0,selectedWallet:null,imageLoading:!0}},async created(){this.fetchData(),this.selectedWallet=this.stakingStore.wallets.find(o=>o.symbol==="USDT")||this.stakingStore.wallets[0],this.updateSelectedWallet()},methods:{async fetchData(){await this.stakingStore.fetchPublic(),await this.stakingStore.fetch()},async Stake(){await this.stakingStore.StakeNew(this.amount,this.wal)},async CancelStake(){await this.stakingStore.CancelStake()},async ClaimStake(){await this.stakingStore.ClaimStake()},updateSelectedWallet(){this.stakingStore.wallet=this.selectedWallet},async stackCall(o){if(this.hasPend()||this.hasLicensePrompt()||this.hasLimitExceeded()){this.showAllAlertsSequentially();return}if(!this.userStore.user)return window.location.href="/login";this.stakingStore.setCoin(o,"stake")}}},J={class:"card mb-5 bg-black",style:{"background-image":"url('/assets/images/staking/bg/banner.gif')"}},O={class:"card-body"},Q={class:"grid gap-5 xs:grid-cols-1 md:grid-cols-3"},Z={class:"col-span-2 xs:col-span-3 md:col-span-2"},I={class:"px-2 py-2 text-center text-gray-200 dark:text-gray-200",style:{"background-color":"#000000db !important"}},$={class:"dark:text-gray-20 tracking-widest text-gray-200 md:text-lg"},tt={class:"col-span-1 sm:col-span-3 md:col-span-1"},et={class:"card shadow",style:{"border-top":"6px solid #2dbd96","background-color":"#000000db !important","border-bottom-right-radius":"10px","border-bottom-left-radius":"10px"}},st={class:"card-body"},ot={class:"px-2 py-2 text-center text-gray-500 dark:text-gray-400"},nt={class:"text-gray-200 dark:text-gray-200"},at={class:"flex justify-between"},lt={class:"text-center text-gray-200 dark:text-gray-200"},it={class:"text-center text-gray-200 dark:text-gray-200"},rt={class:"card-footer w-full text-center"},dt=t("i",{class:"bi bi-chevron-right mr-2"},null,-1),ct={class:"my-5"},gt={class:"mb-4 items-center justify-between xs:block xs:space-y-5 sm:flex sm:space-y-0"},mt={class:"font-medium"},ut={class:"card relative overflow-x-auto"},kt={class:"bg-gray-100 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},bt={sortKey:"min_stake",scope:"col",class:"py-3 px-6"},yt=t("th",{scope:"col",class:"py-3 px-6"},null,-1),_t={class:"py-3 px-6","data-label":"Coin"},pt={class:"flex items-center"},ht={class:"mr-2 rounded-full",width:32},ft={class:"fw-bold mr-1"},St={class:"text-mute"},vt={class:"py-3 px-6","data-label":"APR"},xt={class:"text-success fw-bold"},Ct={class:"py-3 px-6","data-label":"Duration (Days)"},wt={class:"text-warning fw-bold"},Pt={class:"py-3 px-6","data-label":"Minimum Stake Amount"},Mt={class:""},Dt={class:"py-3 px-6","data-label":"Action"},Tt={key:0},At=["onClick"],jt=["onClick"],Vt=["onClick"],Lt=["onClick"],Ut=["onClick"],Wt={key:1,scope:"row",class:"whitespace-nowrap py-4 px-6 font-medium text-gray-900 dark:text-white"},Bt={colspan:"100%",class:"py-4 px-6"},Nt={class:"sr-only"},Ft=t("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),zt={class:"sr-only"},Et=t("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),qt={class:"flex items-center text-lg"},Kt={class:"mr-1"},Rt={class:"mb-3"},Xt={for:"walletSelect"},Yt=["value"],Gt={class:"flex justify-between"},Ht={for:"amount"},Jt={key:0,class:"text-light"},Ot={class:"input-group mb-1 w-auto"},Qt={class:"card bg-black pb-3 mt-5"},Zt={class:"card-body"},It={class:"mb-1 flex justify-between"},$t={class:"text-success"},te={class:"mb-1 flex justify-between"},ee={class:"text-success"},se={class:"mb-1 flex justify-between"},oe={class:"mb-1 flex justify-between"},ne={class:"mb-1 flex justify-between"},ae={class:"mb-1 flex justify-between"},le={class:"mb-1 flex justify-between"},ie={class:"mb-1 flex justify-between"},re={class:"flex justify-between"},de={class:"flex justify-end"},ce=["disabled"],ge={class:"flex items-center text-lg"},me={class:"mr-1"},ue={class:"ml-1"},ke={class:"fw-bold"},be={class:"flex justify-end"},ye=["disabled"],_e={class:"flex items-center text-lg"},pe={class:"mr-1"},he={class:"ml-1"},fe={class:"fw-bold"},Se={class:"flex justify-end"},ve=["disabled"];function xe(o,n,P,s,g,k){const T=u("router-link"),A=u("Filter"),h=u("Col"),f=u("VTh"),j=u("toMoney"),V=u("VTable"),L=u("VTPagination"),S=u("ButtonLoading"),v=u("Modal"),U=Y("lazy");return i(),d("div",null,[t("div",J,[t("div",O,[t("div",Q,[t("div",Z,[t("div",I,[t("h1",null,e(o.$t("Staking")),1),t("p",$,e(o.$t("Earn stable profits with professional asset management")),1)])]),t("div",tt,[t("div",et,[t("div",st,[t("div",ot,[t("div",nt,[t("div",null,e(o.$t("Assets"))+" (USDT)",1),(i(),d("div",{key:s.stakingStore.assets},e(s.stakingStore.assets),1))])]),t("div",at,[t("div",lt,[t("div",null,e(o.$t("Yesterday Profit"))+" (USDT)",1),(i(),d("div",{key:s.stakingStore.last_profit},e(s.stakingStore.last_profit),1))]),t("div",it,[t("div",null,e(o.$t("Total Profit"))+" (USDT)",1),(i(),d("div",{key:s.stakingStore.total_profit},e(s.stakingStore.total_profit),1))])])]),t("div",rt,[m(T,{to:"/staking/logs"},{default:l(()=>[dt,t("span",null,e(o.$t("View More")),1)]),_:1})])])])])])]),t("div",ct,[t("div",gt,[t("div",mt,e(o.$t("Running Contracts")),1),m(A,null,{default:l(()=>[_(t("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>g.filters.symbol.value=r),type:"text",class:"filter-input",placeholder:"Symbol"},null,512),[[M,g.filters.symbol.value]])]),_:1})]),t("div",ut,[(i(),p(V,{key:s.stakingStore.coins.length,"current-page":g.currentPage,"onUpdate:currentPage":n[1]||(n[1]=r=>g.currentPage=r),class:"w-full text-left text-sm text-gray-500 dark:text-gray-400",data:s.stakingStore.coins,filters:g.filters,"page-size":10,"hide-sort-icons":!0,onTotalPagesChanged:n[2]||(n[2]=r=>g.totalPages=r)},{head:l(()=>[t("tr",kt,[m(f,{"sort-key":"symbol",scope:"col",class:"py-3 px-6"},{default:l(()=>[m(h,{text:"Coin"})]),_:1}),m(f,{"sort-key":"profit",scope:"col",class:"py-3 px-6"},{default:l(()=>[m(h,{text:"Staking Profit"})]),_:1}),m(f,{"sort-key":"duration",scope:"col",class:"py-3 px-6"},{default:l(()=>[m(h,{text:"Duration (Days)"})]),_:1}),t("th",bt,e(o.$t("Minimum Stake Amount")),1),yt])]),body:l(({rows:r})=>[s.stakingStore.coins.length>0?(i(!0),d(x,{key:0},D(r,a=>(i(),d("tr",{key:a.id,class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},[t("td",_t,[t("div",pt,[_(t("img",ht,null,512),[[U,a.icon?"/assets/images/staking/"+a.icon:"/assets/images/cryptoCurrency/"+a.symbol+".png"]]),t("span",ft,e(a.symbol),1),t("span",St,"("+e(a.title)+")",1)])]),t("td",vt,[t("span",xt,e(a.profit)+"%",1)]),t("td",Ct,[t("span",wt,e(a.period),1)]),t("td",Pt,[t("span",Mt,[m(j,{num:a.min_stake,decimals:"4"},null,8,["num"]),b(" "+e(a.symbol),1)])]),t("td",Dt,[s.stakingStore.coinlogs!=null?(i(),d("div",Tt,[s.stakingStore.coinlogs[a.id]!=null?(i(),d("div",{key:s.stakingStore.coinlogs[a.id].status,class:"space-x-2 space-y-2"},[s.stakingStore.coinlogs[a.id].status!=null?(i(),d(x,{key:0},[s.stakingStore.coinlogs[a.id].status!=2?(i(),d("button",{key:0,type:"button",class:"btn btn-warning btn-sm",onClick:c=>s.stakingStore.setCoin(a,"stake")},e(o.$t("Stake")),9,At)):y("",!0),g.plat.staking.cancel_stake==1&&s.stakingStore.coinlogs[a.id].status==1?(i(),d("button",{key:1,type:"button",class:"btn btn-danger btn-sm",onClick:c=>s.stakingStore.setCoin(a,"cancel")},e(o.$t("Cancel")),9,jt)):s.stakingStore.coinlogs[a.id].status==2?(i(),d("button",{key:2,type:"button",class:"btn btn-success btn-sm",onClick:c=>s.stakingStore.setCoin(a,"claim")},e(o.$t("Claim Profit")),9,Vt)):y("",!0)],64)):y("",!0)])):(i(),d("button",{key:1,type:"button",class:"btn btn-warning btn-sm",onClick:c=>k.stackCall(a)},e(o.$t("Stake")),9,Lt))])):(i(),d("button",{key:1,type:"button",class:"btn btn-warning btn-sm",onClick:c=>s.stakingStore.setCoin(a,"stake")},e(o.$t("Stake")),9,Ut))])]))),128)):(i(),d("tr",Wt,[t("td",Bt,e(o.$t("No results found!")),1)]))]),_:1},8,["current-page","data","filters"]))]),m(L,{currentPage:g.currentPage,"onUpdate:currentPage":n[3]||(n[3]=r=>g.currentPage=r),class:"float-right flex items-center justify-between pt-4","aria-label":"Table navigation","total-pages":g.totalPages,"max-page-links":3,"boundary-links":!0},{firstPage:l(()=>[b(e(o.$t("First")),1)]),lastPage:l(()=>[b(e(o.$t("Last")),1)]),next:l(()=>[t("span",Nt,e(o.$t("Next")),1),Ft]),previous:l(()=>[t("span",zt,e(o.$t("Previous")),1),Et]),_:1},8,["currentPage","total-pages"])]),t("form",{onSubmit:n[9]||(n[9]=w(r=>k.Stake(),["prevent"]))},[m(C,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:l(()=>[s.stakingStore.isShowModal.stake?(i(),p(v,{key:s.stakingStore.coin.length,size:"lg",onClose:n[8]||(n[8]=r=>s.stakingStore.closeModal("stake"))},{header:l(()=>[t("div",qt,[t("span",Kt,e(o.$t("Staking")),1),t("span",null,e(s.stakingStore.coin.symbol),1)])]),body:l(()=>{var r,a;return[t("div",Rt,[t("label",Xt,e(o.$t("Select Wallet")),1),_(t("select",{id:"walletSelect","onUpdate:modelValue":n[4]||(n[4]=c=>g.selectedWallet=c),onChange:n[5]||(n[5]=(...c)=>k.updateSelectedWallet&&k.updateSelectedWallet(...c)),class:"form-select"},[(i(!0),d(x,null,D(s.stakingStore.wallets,c=>(i(),d("option",{key:c.id,value:c},e(c.symbol)+" - "+e(c.type)+" ("+e(Number(c.balance).toFixed(2))+" "+e(c.symbol)+") ",9,Yt))),128))],544),[[G,g.selectedWallet]])]),t("div",Gt,[t("label",Ht,e(o.$t("Stake Amount")),1),s.stakingStore.wallet!=null?(i(),d("span",Jt,e(Number((a=(r=s.stakingStore)==null?void 0:r.wallet)==null?void 0:a.balance).toFixed(2))+" "+e(s.stakingStore.wallet.symbol),1)):y("",!0)]),t("div",Ot,[_(t("input",{"onUpdate:modelValue":n[6]||(n[6]=c=>g.amount=c),type:"number",step:"0.00000001",required:"",min:"0",placeholder:"Amount"},null,512),[[M,g.amount]]),t("span",null,e(s.stakingStore.coin.symbol),1)]),t("div",Qt,[t("div",Zt,[t("div",It,[t("span",null,e(o.$t("Price")),1),t("span",$t,e(s.stakingStore.coin.price)+" USDT",1)]),t("div",te,[t("span",null,e(o.$t("Est. Annual Profit Rate")),1),t("span",ee,e(s.stakingStore.coin.apr)+"%",1)]),t("div",se,[t("span",null,e(o.$t("Staked Amount")),1),t("span",null,e(s.stakingStore.coin.staked),1)]),t("div",oe,[t("span",null,e(o.$t("Max Available")),1),t("span",null,e(s.stakingStore.coin.max_stake),1)]),t("div",ne,[t("span",null,e(o.$t("Staking period")),1),t("span",null,e(s.stakingStore.coin.period)+" "+e(o.$t("Days")),1)]),t("div",ae,[t("span",null,e(o.$t("Staking Method")),1),t("span",null,e(s.stakingStore.coin.method),1)]),t("div",le,[t("span",null,e(o.$t("Coin Network")),1),t("span",null,e(s.stakingStore.coin.network),1)]),t("div",ie,[t("span",null,e(o.$t("Profit Distribution")),1),t("span",null,e(s.stakingStore.coin.profit_unit),1)]),t("div",re,[t("span",null,e(o.$t("Est. Daily Profits")),1),t("span",null,e(s.stakingStore.coin.daily_profit),1)])])])]}),footer:l(()=>[t("div",de,[t("button",{type:"submit",disabled:s.stakingStore.loading,class:"btn btn-outline-primary mr-3"},[m(S,{loading:s.stakingStore.loading,text:"Stake"},null,8,["loading"])],8,ce),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:n[7]||(n[7]=r=>s.stakingStore.closeModal("stake"))},e(o.$t("Close")),1)])]),_:1})):y("",!0)]),_:1})],32),t("form",{onSubmit:n[12]||(n[12]=w(r=>k.CancelStake(),["prevent"]))},[m(C,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:l(()=>[s.stakingStore.isShowModal.cancel?(i(),p(v,{key:s.stakingStore.coin.length,size:"lg",onClose:n[11]||(n[11]=r=>s.stakingStore.closeModal("cancel"))},{header:l(()=>[t("div",ge,[t("span",me,e(o.$t("Cancel")),1),t("span",null,e(s.stakingStore.coin.symbol),1),t("span",ue,e(o.$t("Staking")),1)])]),body:l(()=>[t("p",null,[b(e(o.$t("Are you sure to cancel"))+" ",1),t("span",ke,e(s.stakingStore.coin.symbol),1),b(" "+e(o.$t("Stake"))+"? ",1)])]),footer:l(()=>[t("div",be,[t("button",{type:"submit",disabled:s.stakingStore.loading,class:"btn btn-outline-danger mr-3"},[m(S,{loading:s.stakingStore.loading,text:"Cancel Stake"},null,8,["loading"])],8,ye),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:n[10]||(n[10]=r=>s.stakingStore.closeModal("cancel"))},e(o.$t("Close")),1)])]),_:1})):y("",!0)]),_:1})],32),t("form",{onSubmit:n[15]||(n[15]=w(r=>k.ClaimStake(),["prevent"]))},[m(C,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:l(()=>[s.stakingStore.isShowModal.claim?(i(),p(v,{key:s.stakingStore.coin.length,size:"lg",onClose:n[14]||(n[14]=r=>s.stakingStore.closeModal("claim"))},{header:l(()=>[t("div",_e,[t("span",pe,e(o.$t("Cancel")),1),t("span",null,e(s.stakingStore.coin.symbol),1),t("span",he,e(o.$t("Staking")),1)])]),body:l(()=>[t("p",null,[b(e(o.$t("Are you sure to claim"))+" ",1),t("span",fe,e(s.stakingStore.coin.symbol),1),b(" "+e(o.$t("Stake"))+"? ",1)])]),footer:l(()=>[t("div",Se,[t("button",{type:"submit",disabled:s.stakingStore.loading,class:"btn btn-outline-success mr-3"},[m(S,{loading:s.stakingStore.loading,text:"Claim Stake"},null,8,["loading"])],8,ve),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:n[13]||(n[13]=r=>s.stakingStore.closeModal("claim"))},e(o.$t("Close")),1)])]),_:1})):y("",!0)]),_:1})],32)])}const Fe=X(H,[["render",xe]]);export{Fe as default};
