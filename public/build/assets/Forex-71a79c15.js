import{V as Z,_ as $,r as m,m as N,o as r,c as i,a as e,h as D,t as s,F as S,e as h,w as c,q as A,B as J,C as Q,n as C,i as u,g as b,d as I,f as p,X as U,T as V,u as L,z as ee}from"./bootstrap-9979bcf7.js";import{u as te}from"./user-4c9e2e6d.js";import{t as z}from"./toMoney-eef014ed.js";import{t as oe}from"./toDate-035af62a.js";import{N as O,Y as R,X as G,C as K,K as X}from"./flowbite-vue-3e651750.js";import{F as se}from"./Filter-f10b47ed.js";import{C as re}from"./Col-4463c6d7.js";import"./_commonjsHelpers-de833af9.js";import"./browser-77dd377d.js";import"./preload-helper-f61836a9.js";import"./axios-4a70c6fc.js";const ne=Z("forex",{state:()=>({account:null,forex_log:0,forex_logs:[],forex_investment:[],investment_logs:[],investment_logs_amount:null,investment_logs_profit:null,investment:null,wallets:[],wallet:[],isShowModal:{deposit:!1,withdraw:!1,selectInvestment:!1},selected_inv:null,loading:!1,depositing:!1,withdrawing:!1}),actions:{async fetch(){await axios.post("/user/fetch/forex").then(o=>{o.message=="Verify your identify first!"&&(window.location.href="/user/kyc"),o.error!=null&&$toast.error(o.error),this.account=o.account,this.forex_logs=o.forex_logs,this.forex_log=o.forex_log,this.forex_investment=o.forex_investment,this.investment_logs=o.investment_logs,this.investment_logs_amount=o.investment_logs_amount,this.investment_logs_profit=o.investment_logs_profit,this.investment=o.investment,this.wallets=o.wallets,this.wallet=o.wallet})},closeModal(o){o=="deposit"?this.isShowModal.deposit=!1:o=="withdraw"?this.isShowModal.withdraw=!1:o=="selectInvestment"&&(this.isShowModal.selectInvestment=!1)},showModal(o){o=="deposit"?this.isShowModal.deposit=!0:o=="withdraw"?this.isShowModal.withdraw=!0:o=="selectInvestment"&&(this.isShowModal.selectInvestment=!0)},async Deposit(o,n){this.depositing=!0,axios.post("/user/forex/deposit",{symbol:o,amount:n}).then(t=>{$toast[t.type](t.message)}).catch(t=>{$toast.error(t.response.data.message)}).finally(()=>{this.depositing=!1,this.fetch(),this.closeModal("deposit")})},async Withdraw(o,n){this.withdrawing=!0,await axios.post("/user/forex/withdraw",{symbol:o,amount:n}).then(t=>{$toast[t.type](t.message)}).catch(t=>{$toast.error(t.response.data.message)}).finally(()=>{this.withdrawing=!1,this.fetch(),this.closeModal("withdraw")})},selectInvestment(o){this.selected_inv=o},async submitInvestment(o,n){this.loading=!0,await axios.post("/user/forex/store",{investment_id:this.selected_inv.id,symbol:o,amount:n}).then(t=>{$toast[t.type](t.message),this.forex_logs=t.meta}).catch(t=>{console.log(t),$toast.error(t.response.data.message)}).finally(()=>{this.loading=!1,this.fetch()})},async createAccount(){await axios.post("/user/forex/create").then(o=>{$toast[o.type](o.message),this.fetch()}).catch(o=>{$toast.error(o.response.data.message)})},async fetchWallet(){await axios.post("/user/fetch/wallet",{type:"funding",symbol:"USDT"}).then(o=>{this.wallet=o.balance}).catch(o=>{$toast.error(o.response.data.message)})},async createWallet(){await axios.post("/user/wallet/store",{type:"funding",symbol:"USDT"}).then(o=>{this.fetchWallet(),$toast[o.type](o.message)}).catch(o=>{$toast.error(o.response.data.message)}).finally(()=>{this.loading=!1})}},persist:!0});const ae={props:{userStore:{type:Object,required:!0},forexStore:{type:Object,required:!0}}},le=o=>(J("data-v-b31606d1"),o=o(),Q(),o),ie={class:"card"},ce={class:"flex flex-col space-y-5 p-5 text-center"},de={class:"flex justify-center"},ue={class:"profile-icon"},me={class:"rounded-full shadow-lg",height:"96",width:"96"},_e={class:"text-center text-xl font-medium text-gray-900 dark:text-white"},ye={type:"button",class:"btn btn-outline-warning"},fe={key:1},be={class:"rounded-b border-t-4 border-red-500 bg-red-100 px-4 py-3 text-red-900 shadow-md",role:"alert"},ge={class:"flex"},he=le(()=>e("div",{class:"py-1"},[e("svg",{class:"mr-4 h-6 w-6 fill-current text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})])],-1)),xe={class:"text-left"},ve={class:"font-bold"},pe={class:"text-sm"},we={type:"submit",class:"btn btn-warning"},Se={type:"submit",class:"btn btn-success"};function ke(o,n,t,l,d,v){const _=m("router-link"),y=N("lazy");return r(),i("div",ie,[e("div",ce,[e("div",de,[e("span",ue,[D(e("img",me,null,512),[[y,t.userStore.user&&t.userStore.user.profile_photo_path?"/assets/images/profile/"+t.userStore.user.profile_photo_path:"/assets/images/profile/default.png"]])])]),e("div",_e,s(t.userStore.user?t.userStore.user.firstname:""),1),t.forexStore.account!=null?(r(),i(S,{key:0},[(r(),i("div",{key:t.forexStore.account.length},[t.forexStore.account.status==1?(r(),h(_,{key:0,to:"/forex/trade"},{default:c(()=>[e("button",ye,s(o.$t("Launch Forex App")),1)]),_:1})):(r(),i("div",fe,[e("div",be,[e("div",ge,[he,e("div",xe,[e("p",ve,s(o.$t("Forex App Locked")),1),e("p",pe,s(o.$t("Deposit Firstly")),1)])])])]))])),t.forexStore.wallet!=null?(r(),i("div",{key:t.forexStore.wallet.balance,class:"flex justify-between gap-5"},[e("button",{type:"button",class:"btn btn-outline-success w-1/2",onClick:n[0]||(n[0]=a=>t.forexStore.showModal("deposit"))},s(o.$t("Deposit")),1),e("button",{type:"button",class:"btn btn-outline-danger w-1/2 justify-center",onClick:n[1]||(n[1]=a=>t.forexStore.showModal("withdraw"))},s(o.$t("Withdraw")),1)])):(r(),i("form",{key:t.forexStore.wallet,class:"my-1",onSubmit:n[2]||(n[2]=A(a=>t.forexStore.createWallet(),["prevent"]))},[e("button",we,s(o.$t("Create Wallet")),1)],32))],64)):(r(),i("a",{key:1,onClick:n[3]||(n[3]=a=>t.forexStore.createAccount())},[e("button",Se,s(o.$t("Create Forex Account")),1)]))])])}const $e=$(ae,[["render",ke],["__scopeId","data-v-b31606d1"]]);const Me={components:{toMoney:z},props:{icon:{type:String,required:!0},amountKey:{type:String,required:!0},titleText:{type:String,required:!0},amount:{type:Number,required:!0},symbol:{type:String,required:!0}}},Ce={class:"card bg-white text-center dark:bg-gray-800"},Ie={class:"card-body"},Pe={class:"icon-background bg-primary mb-1 dark:bg-yellow-400"},De={class:"font-medium text-black dark:text-white"},je={class:"card-text text-gray-500 dark:text-gray-400"};function qe(o,n,t,l,d,v){const _=m("toMoney");return r(),i("div",Ce,[e("div",Ie,[e("div",Pe,[e("i",{class:C(t.icon)},null,2)]),e("h2",De,[u(_,{num:t.amount,decimals:"2"},null,8,["num"]),b(" "+s(t.symbol),1)]),e("p",je,s(t.titleText),1)])])}const We=$(Me,[["render",qe],["__scopeId","data-v-0eae01e4"]]),Fe={components:{SummaryCard:We},props:{forexAccount:{type:Object,required:!0},accountBalance:{type:Number,required:!0},accountProfit:{type:Number,required:!0},totalInvestment:{type:Number,required:!0},investmentsProfit:{type:Number,required:!0},currencySymbol:{type:String,required:!0},forexLog:{type:Number,required:!1,default:0},investmentLogsAmount:{type:Number,required:!1,default:0},investmentLogsProfit:{type:Number,required:!1,default:0}}},ze=e("div",{class:"card-body"},null,-1),Be=[ze];function Ae(o,n,t,l,d,v){const _=m("summary-card");return t.forexAccount!=null?(r(),i(S,{key:0},[u(_,{icon:"bi-briefcase","amount-key":"accountBalance","title-text":"Forex Account Balance",amount:t.accountBalance,symbol:t.currencySymbol},null,8,["amount","symbol"]),u(_,{icon:"bi-diagram-3","amount-key":"accountProfit","title-text":"Forex Account Profit",amount:t.accountProfit,symbol:t.currencySymbol},null,8,["amount","symbol"]),u(_,{icon:"bi-node-plus","amount-key":"totalInvestment","title-text":"Total Investment",amount:t.totalInvestment,symbol:t.currencySymbol},null,8,["amount","symbol"]),u(_,{icon:"bi-node-plus-fill","amount-key":"investmentsProfit","title-text":"Investments Profit",amount:t.investmentsProfit,symbol:t.currencySymbol},null,8,["amount","symbol"])],64)):(r(),i(S,{key:1},I(4,y=>e("div",{key:y,class:"card"},Be)),64))}const Te=$(Fe,[["render",Ae]]);const Ne={components:{toDate:oe,toMoney:z},props:{forexLogs:{type:Array,default:()=>[]},userCurrencyRate:{type:[Number,String],default:1},userCurrencySymbol:{type:String,default:"USD"}}},Ue=o=>(J("data-v-6c51fc8f"),o=o(),Q(),o),Ve={class:"card card-transaction"},Oe={class:"card-header"},Re={class:"card-title"},Ge={key:0,class:"overflow-y-auto",style:{"max-height":"280px"}},Ke={class:"flex items-center"},Xe={class:"transaction-percentage"},Ee={class:"fw-bolder"},He={key:0,class:"badge bg-warning"},Ye={key:1,class:"badge bg-success"},Je={key:2,class:"badge bg-danger"},Qe={key:3,class:"badge bg-warning"},Ze={key:1,class:"mb-5 text-center"},Le=Ue(()=>e("div",{class:"flex justify-center"},[e("img",{height:"128",width:"128",src:"https://assets.staticimg.com/pro/2.0.4/images/empty.svg",alt:""})],-1));function et(o,n,t,l,d,v){const _=m("toDate"),y=m("toMoney");return r(),i("div",Ve,[e("div",Oe,[e("h4",Re,s(o.$t("Forex Transactions")),1)]),t.forexLogs&&t.forexLogs.length?(r(),i("div",Ge,[(r(!0),i(S,null,I(t.forexLogs,(a,w)=>(r(),i("div",{key:w,class:C(["transaction-item flex justify-between rounded-t-lg border-gray-200 px-4 py-2 dark:border-gray-600",[w!==t.forexLogs.length-1?"border-b":""]])},[e("div",Ke,[e("div",{class:C(["icon-bg bg-dark mr-2 rounded",{"text-success":a.type===1,"text-danger":a.type===2,"text-warning":a.type===3}])},[e("i",{class:C(["bi",{"bi-journal-arrow-up":a.type===1,"bi-journal-arrow-down":a.type===2,"bi-briefcase":a.type===3}])},null,2)],2),e("div",Xe,[e("span",{class:C([{"text-success":a.type===1,"text-danger":a.type===2,"text-warning":a.type===3},"fw-bold"])},s(a.type===1?o.$t("Forex Deposit"):a.type===2?o.$t("Forex Withdraw"):o.$t("Forex Investment")),3),e("p",null,[e("small",null,[u(_,{time:a.created_at},null,8,["time"])])])])]),e("div",Ee,[a.type!==3&&a.status===0||a.type===3&&a.status!==1?(r(),i("span",He,s(o.$t("Pending")),1)):a.type===1&&a.status!==0?(r(),i("span",Ye,[b(" -"),u(y,{num:a.amount*t.userCurrencyRate,decimals:2},null,8,["num"]),b(" "+s(t.userCurrencySymbol),1)])):a.type===2&&a.status!==0?(r(),i("span",Je,[b(" +"),u(y,{num:a.amount*t.userCurrencyRate,decimals:2},null,8,["num"]),b(" "+s(t.userCurrencySymbol),1)])):a.type===3&&a.status===1?(r(),i("span",Qe,[b(" +"),u(y,{num:a.profit*t.userCurrencyRate,decimals:2},null,8,["num"]),b(" "+s(t.userCurrencySymbol),1)])):p("",!0)])],2))),128))])):(r(),i("div",Ze,[Le,b(" "+s(o.$t("No Data Found")),1)]))])}const tt=$(Ne,[["render",et],["__scopeId","data-v-6c51fc8f"]]),ot={components:{Dropdown:O,ListGroup:R,ListGroupItem:G,Button:K,toMoney:z},props:{forexStore:{type:Object,required:!0}},data(){return{amount:0,wal:null}},methods:{selectWallet(o){this.wal=o},async submitInvestment(){await this.forexStore.submitInvestment(this.wal.symbol,this.amount)}}},st={class:"card mt-5"},rt={class:"card-body"},nt={class:"card-title"},at={class:"grid gap-5 xs:grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},lt={ref:"wallett",class:"btn btn-outline-primary",type:"button"},it=e("i",{class:"bi bi-sort-down-alt mr-2"},null,-1),ct={class:"flex items-center border-b py-3 px-4 text-sm text-gray-900 dark:text-white"},dt=e("i",{class:"bi bi-sort-down-alt mr-2"},null,-1),ut=["onClick"],mt={class:"mr-3"},_t={class:"flex w-full"},yt=["min","max","step"],ft=e("i",{class:"bi bi-caret-right"},null,-1);function bt(o,n,t,l,d,v){var g,f,k,P,j,q,W,F;const _=m("toMoney"),y=m("list-group-item"),a=m("list-group"),w=m("dropdown"),x=m("Button");return r(),i("div",st,[e("div",rt,[e("form",{onSubmit:n[2]||(n[2]=A(M=>v.submitInvestment(),["prevent"]))},[e("div",nt,s(o.$t("Forex Investments")),1),e("div",at,[u(w,{text:"button"},{trigger:c(()=>[e("button",lt,[it,d.wal!=null?(r(),h(_,{key:0,num:d.wal.balance,decimals:"2"},null,8,["num"])):p("",!0),b(" "+s(d.wal?d.wal.symbol:o.$t("Select Wallet")),1)],512)]),default:c(()=>[u(a,{class:C("text-start")},{default:c(()=>[e("div",ct,[dt,b(" "+s(o.$t("Select Wallet")),1)]),(r(!0),i(S,null,I(t.forexStore.wallets,(M,B)=>(r(),h(y,{key:B,class:"items-between inline-flex w-full cursor-pointer border-b border-gray-200 px-4 py-2 hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700 focus:outline-none focus:ring-2 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500"},{default:c(()=>[e("a",{class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",onClick:T=>v.selectWallet(M)},[e("span",mt,[u(_,{num:M.balance,decimals:"2"},null,8,["num"])]),e("span",null,s(M.symbol),1)],8,ut)]),_:2},1024))),128))]),_:1})]),_:1}),e("div",_t,[D((r(),i("input",{key:(f=(g=t.forexStore)==null?void 0:g.selected_inv)==null?void 0:f.min,"onUpdate:modelValue":n[0]||(n[0]=M=>d.amount=M),type:"number",class:"block min-w-0 flex-1 rounded-none rounded-l-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 placeholder-red-500 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",required:"",min:((P=(k=t.forexStore)==null?void 0:k.selected_inv)==null?void 0:P.min)??1,max:((q=(j=t.forexStore)==null?void 0:j.selected_inv)==null?void 0:q.max)??1e6,step:((F=(W=t.forexStore)==null?void 0:W.selected_inv)==null?void 0:F.min)??1,placeholder:"Amount"},null,8,yt)),[[U,d.amount]]),e("span",{ref:"selectedWallet",class:"inline-flex items-center rounded-r-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400"},s(d.wal?d.wal.symbol:"$"),513)]),u(x,{size:"sm",class:"flex w-full items-center justify-between",color:"purple",type:"button",onClick:n[1]||(n[1]=M=>t.forexStore.showModal("selectInvestment"))},{default:c(()=>[b(s(t.forexStore.selected_inv?t.forexStore.selected_inv.title:o.$t("Select Plan")),1)]),_:1}),u(x,{size:"sm",class:"flex w-full items-center justify-between",color:"green",loading:t.forexStore.loading,disabled:t.forexStore.loading},{default:c(()=>[ft,e("span",null,s(o.$t("Start Investment")),1)]),_:1},8,["loading","disabled"])])],32)])])}const gt=$(ot,[["render",bt]]),ht={name:"InvestmentLogs",components:{Filter:se,Col:re},props:{forexStore:{type:Object,required:!0},userStore:{type:Object,required:!0}},data(){return{currentPage:1,totalPages:0}}},xt={class:"card relative my-5 overflow-x-auto"},vt={class:"bg-gray-100 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},pt={"data-label":"Plan",class:"text-uppercase py-3 px-6"},wt={class:"py-3 px-6","data-label":"Amount"},St={"data-label":"Profit",class:"py-3 px-6"},kt={key:0,class:"text-success"},$t={key:1,class:"text-danger"},Mt={key:2},Ct={key:3,class:"badge bg-warning"},It={class:"py-3 px-6","data-label":"Duration"},Pt={class:"fw-bold"},Dt={class:"fw-bold"},jt={class:"py-3 px-6","data-label":"Status"},qt={key:0,class:"badge bg-primary"},Wt={key:1,class:"badge bg-success"},Ft={key:1,scope:"row",class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},zt={colspan:"100%",class:"py-4 px-6"},Bt={class:"sr-only"},At=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),Tt={class:"sr-only"},Nt=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1);function Ut(o,n,t,l,d,v){const _=m("Col"),y=m("VTh"),a=m("VTable"),w=m("VTPagination");return r(),i(S,null,[e("div",xt,[(r(),h(a,{key:t.forexStore.investment_logs.length,"current-page":d.currentPage,"onUpdate:currentPage":n[0]||(n[0]=x=>d.currentPage=x),class:"w-full text-left text-sm text-gray-500 dark:text-gray-400",data:t.forexStore.investment_logs,"page-size":5,"hide-sort-icons":!0,onTotalPagesChanged:n[1]||(n[1]=x=>d.totalPages=x)},{head:c(()=>[e("tr",vt,[u(y,{"sort-key":"investment_id",scope:"col",class:"py-3 px-6"},{default:c(()=>[u(_,{text:"Plan"})]),_:1}),u(y,{"sort-key":"amount",scope:"col",class:"py-3 px-6"},{default:c(()=>[u(_,{text:"Amount"})]),_:1}),u(y,{"sort-key":"profit",scope:"col",class:"py-3 px-6"},{default:c(()=>[u(_,{text:"Profit"})]),_:1}),u(y,{"sort-key":"duration",scope:"col",class:"py-3 px-6"},{default:c(()=>[u(_,{text:"Duration"})]),_:1}),u(y,{"sort-key":"status",scope:"col",class:"py-3 px-6"},{default:c(()=>[u(_,{text:"Status"})]),_:1})])]),body:c(({rows:x})=>[t.forexStore.investment_logs.length>0?(r(!0),i(S,{key:0},I(x,g=>{var f,k;return r(),i("tr",{key:g.id,class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},[e("td",pt,s(g.investment.title),1),e("td",wt,s(g.amount*(((k=(f=t.userStore)==null?void 0:f.currency)==null?void 0:k.rate)??1))+" "+s(t.userStore.currency?t.userStore.currency.symbol:"USD"),1),e("td",St,[g.result==1?(r(),i("span",kt," + "+s(g.profit*t.userStore.currency?t.userStore.currency.rate:1)+" "+s(t.userStore.currency?t.userStore.currency.symbol:"USD"),1)):g.result==2?(r(),i("span",$t," - "+s(g.profit*t.userStore.currency?t.userStore.currency.rate:1)+" "+s(t.userStore.currency?t.userStore.currency.symbol:"USD"),1)):g.result==3?(r(),i("span",Mt,s(g.profit*t.userStore.currency?t.userStore.currency.rate:1)+" "+s(t.userStore.currency?t.userStore.currency.symbol:"USD"),1)):(r(),i("span",Ct,s(o.$t("Pending")),1))]),e("td",It,[e("div",null,[b(s(o.$t("Start"))+": ",1),e("span",Pt,s(g.start_date),1)]),e("div",null,[b(s(o.$t("End"))+": ",1),e("span",Dt,s(g.end_date),1)])]),e("td",jt,[g.status!==1?(r(),i("span",qt,s(o.$t("Running")),1)):(r(),i("span",Wt,s(o.$t("Complete")),1))])])}),128)):(r(),i("tr",Ft,[e("td",zt,s(o.$t("No results found!")),1)]))]),_:1},8,["current-page","data"]))]),u(w,{currentPage:d.currentPage,"onUpdate:currentPage":n[2]||(n[2]=x=>d.currentPage=x),"aria-label":"Table navigation","total-pages":d.totalPages,"boundary-links":!0,"max-page-links":3,class:"flex items-center justify-between pt-4"},{firstPage:c(()=>[b(s(o.$t("First")),1)]),lastPage:c(()=>[b(s(o.$t("Last")),1)]),next:c(()=>[e("span",Bt,s(o.$t("Next")),1),At]),previous:c(()=>[e("span",Tt,s(o.$t("Previous")),1),Nt]),_:1},8,["currentPage","total-pages"])],64)}const Vt=$(ht,[["render",Ut]]),Ot={props:{forexSignals:{type:Object,required:!0}}},Rt={key:0,class:"card max-w-xs"},Gt={class:"card-body"},Kt={class:"card-title"},Xt={class:"data-doc-item data-doc-item-lg mx-auto my-1"},Et={class:"data-doc-image"},Ht={class:"img-fluid img-thumbnail"},Yt={class:"data-doc-actions"},Jt=["href"],Qt=e("i",{class:"bi bi-cloud-download"},null,-1),Zt=[Qt];function Lt(o,n,t,l,d,v){const _=N("lazy");return r(!0),i(S,null,I(t.forexSignals,(y,a)=>(r(),i(S,{key:a},[y!=null?(r(),i("div",Rt,[e("div",Gt,[e("span",Kt,s(o.$t("Signal"))+" 1",1),e("div",Xt,[e("div",Et,[D(e("img",Ht,null,512),[[_,"/assets/images/signal/"+y.image]])]),e("ul",Yt,[e("li",null,[e("a",{href:"/assets/images/signal/"+y.image,target:"_blank"},Zt,8,Jt)])])])])])):p("",!0)],64))),128)}const eo=$(Ot,[["render",Lt]]),to={components:{Modal:X,Dropdown:O,ListGroup:R,ListGroupItem:G,Button:K,toMoney:z},props:{forexStore:{type:Object,required:!0}},data(){return{wal:null,amount:0}},methods:{async Deposit(){await this.forexStore.Deposit(this.wal.symbol,this.amount),this.wal=null},selectWallet(o){this.wal=o}}},oo={class:"flex items-center text-lg"},so={class:"mb-2"},ro={for:""},no={class:"btn btn-outline-primary",type:"button"},ao=e("i",{class:"bi bi-sort-down-alt mr-2"},null,-1),lo={class:"flex items-center border-b py-3 px-4 text-sm text-gray-900 dark:text-white"},io=e("i",{class:"bi bi-sort-down-alt mr-2"},null,-1),co=["onClick"],uo={for:""},mo={class:"input-group mb-1 w-auto"},_o={class:"flex justify-end space-x-2"};function yo(o,n,t,l,d,v){const _=m("toMoney"),y=m("list-group-item"),a=m("list-group"),w=m("dropdown"),x=m("Button"),g=m("Modal");return r(),i("form",{onSubmit:n[3]||(n[3]=A(f=>v.Deposit(),["prevent"]))},[u(V,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:c(()=>[t.forexStore.isShowModal.deposit?(r(),h(g,{key:0,size:"lg",onClose:n[2]||(n[2]=f=>t.forexStore.closeModal("deposit"))},{header:c(()=>[e("div",oo,s(o.$t("Forex Deposit")),1)]),body:c(()=>[e("div",so,[e("div",ro,s(o.$t("From Wallet")),1),t.forexStore.wallets!=null?(r(),h(w,{key:0,text:"button"},{trigger:c(()=>[e("button",no,[ao,d.wal!=null?(r(),h(_,{key:0,num:d.wal.balance,decimals:"2"},null,8,["num"])):p("",!0),b(" "+s(d.wal?d.wal.symbol:"Select Wallet"),1)])]),default:c(()=>[u(a,{class:C("text-start")},{default:c(()=>[e("div",lo,[io,b(" "+s(o.$t("Select Wallet")),1)]),(r(!0),i(S,null,I(t.forexStore.wallets,(f,k)=>(r(),h(y,{key:k,class:"items-between inline-flex w-full cursor-pointer border-b border-gray-200 px-4 py-2 hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700 focus:outline-none focus:ring-2 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500"},{default:c(()=>[e("a",{class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",onClick:P=>v.selectWallet(f)},[(r(),i("span",{key:f.balance,class:"mr-3"},[u(_,{num:f.balance,decimals:"2"},null,8,["num"])])),e("span",null,s(f.symbol),1)],8,co)]),_:2},1024))),128))]),_:1})]),_:1})):p("",!0)]),e("div",null,[e("label",uo,s(o.$t("Amount")),1),e("div",mo,[D(e("input",{"onUpdate:modelValue":n[0]||(n[0]=f=>d.amount=f),type:"number",required:"",min:"0.01",step:"0.01",placeholder:"Amount"},null,512),[[U,d.amount]]),e("span",null,s(d.wal?d.wal.symbol:""),1)])])]),footer:c(()=>[e("div",_o,[u(x,{size:"sm",class:"flex items-center justify-between",color:"green",loading:t.forexStore.depositing,disabled:t.forexStore.depositing},{default:c(()=>[e("span",null,s(o.$t("Deposit")),1)]),_:1},8,["loading","disabled"]),e("button",{type:"button",class:"btn btn-outline-secondary",onClick:n[1]||(n[1]=f=>t.forexStore.closeModal("deposit"))},s(o.$t("Close")),1)])]),_:1})):p("",!0)]),_:1})],32)}const fo=$(to,[["render",yo]]),bo={components:{Modal:X,Dropdown:O,ListGroup:R,ListGroupItem:G,Button:K,toMoney:z},props:{forexStore:{type:Object,required:!0},userStore:{type:Object,required:!0}},emits:["select-withdraw-wallet","withdraw-submit"],data(){return{wal:null,amount:0}},methods:{async withdraw(){await this.forexStore.Withdraw(this.wal.symbol,this.amount),this.wal=null},selectWallet(o){this.wal=o}}},go={class:"flex items-center text-lg"},ho={class:"mb-2 flex justify-between"},xo={for:""},vo={class:"btn btn-outline-primary",type:"button"},po=e("i",{class:"bi bi-sort-down-alt mr-2"},null,-1),wo={class:"flex items-center border-b py-3 px-4 text-sm text-gray-900 dark:text-white"},So=e("i",{class:"bi bi-sort-down-alt mr-2"},null,-1),ko=["onClick"],$o={for:""},Mo={class:"input-group mb-1 w-auto"},Co=["value"],Io={for:""},Po={class:"input-group mb-1 w-auto"},Do={class:"flex justify-end space-x-2"};function jo(o,n,t,l,d,v){const _=m("toMoney"),y=m("list-group-item"),a=m("list-group"),w=m("dropdown"),x=m("Button"),g=m("Modal");return r(),i("form",{onSubmit:n[3]||(n[3]=A(f=>v.withdraw(),["prevent"]))},[u(V,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:c(()=>[t.forexStore.isShowModal.withdraw?(r(),h(g,{key:0,size:"lg",onClose:n[2]||(n[2]=f=>t.forexStore.closeModal("withdraw"))},{header:c(()=>[e("div",go,s(o.$t("Forex Withdraw")),1)]),body:c(()=>[e("div",ho,[e("div",null,[e("div",xo,s(o.$t("To Wallet")),1),t.forexStore.wallets!=null?(r(),h(w,{key:0,text:"button"},{trigger:c(()=>[e("button",vo,[po,d.wal!=null?(r(),h(_,{key:0,num:d.wal.balance,decimals:"2"},null,8,["num"])):p("",!0),b(" "+s(d.wal?d.wal.symbol:"Select Wallet"),1)])]),default:c(()=>[u(a,{class:C("text-start")},{default:c(()=>[e("div",wo,[So,b(" "+s(o.$t("Select Wallet")),1)]),(r(!0),i(S,null,I(t.forexStore.wallets,(f,k)=>(r(),h(y,{key:k,class:"items-between inline-flex w-full cursor-pointer border-b border-gray-200 px-4 py-2 hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700 focus:outline-none focus:ring-2 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500"},{default:c(()=>[e("a",{class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",onClick:P=>v.selectWallet(f)},[(r(),i("span",{key:f.balance,class:"mr-3"},[u(_,{num:f.balance,decimals:"2"},null,8,["num"])])),e("span",null,s(f.symbol),1)],8,ko)]),_:2},1024))),128))]),_:1})]),_:1})):p("",!0)]),e("div",null,[e("label",$o,s(o.$t("Balance")),1),e("div",Mo,[t.forexStore.account.balance!=null?(r(),i("input",{key:t.forexStore.account.balance,type:"number",placeholder:"Amount",disabled:"",readonly:"",value:(t.forexStore.account?t.forexStore.account.balance:1)*(t.userStore.currency?t.userStore.currency.rate:1)},null,8,Co)):p("",!0),e("span",null,s(t.userStore.currency?t.userStore.currency.symbol:"USD"),1)])])]),e("div",null,[e("label",Io,s(o.$t("Amount")),1),e("div",Po,[D(e("input",{"onUpdate:modelValue":n[0]||(n[0]=f=>d.amount=f),type:"number",required:"",min:"0.000001",step:"0.000001",placeholder:"Amount"},null,512),[[U,d.amount]]),e("span",null,s(t.userStore.currency?t.userStore.currency.symbol:"USD"),1)])])]),footer:c(()=>[e("div",Do,[u(x,{size:"sm",class:"flex items-center justify-between",color:"green",loading:t.forexStore.withdrawing,disabled:t.forexStore.withdrawing},{default:c(()=>[e("span",null,s(o.$t("Withdraw")),1)]),_:1},8,["loading","disabled"]),e("button",{type:"button",class:"btn btn-outline-secondary",onClick:n[1]||(n[1]=f=>t.forexStore.closeModal("withdraw"))},s(o.$t("Close")),1)])]),_:1})):p("",!0)]),_:1})],32)}const qo=$(bo,[["render",jo]]),Wo={components:{Modal:X},props:{forexStore:{type:Object,required:!0}}},Fo={class:"flex items-center text-lg"},zo=["onClick"],Bo={class:"p-2"},Ao={class:"rounded-circle shadow-4",width:"64"},To={class:"w-full"},No={class:"flex justify-between"},Uo={class:"fw-bold fs-4"},Vo={key:0,class:"fs-6 badge bg-success"},Oo={class:"fs-6 d-none d-md-block"},Ro=e("i",{class:"bi bi-clock"},null,-1),Go={class:"fs-6 text-warning"},Ko={class:"text-success"},Xo={class:"flex justify-end"};function Eo(o,n,t,l,d,v){const _=m("Modal"),y=N("lazy");return r(),h(V,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:c(()=>[t.forexStore.isShowModal.selectInvestment?(r(),h(_,{key:0,size:"3xl",onClose:n[1]||(n[1]=a=>t.forexStore.closeModal("selectInvestment"))},{header:c(()=>[e("div",Fo,s(o.$t("Forex Withdraw")),1)]),body:c(()=>[(r(!0),i(S,null,I(t.forexStore.forex_investment,(a,w)=>(r(),i("div",{key:w,class:C(["mb-2 flex cursor-pointer justify-start rounded border border-gray-200 p-2 shadow hover:bg-gray-200 dark:border-gray-500 dark:hover:bg-gray-600",t.forexStore.selected_inv&&t.forexStore.selected_inv.id==a.id?"bg-gray-200 dark:bg-gray-900":" dark:bg-gray-700"]),onClick:x=>{t.forexStore.closeModal("selectInvestment"),t.forexStore.selectInvestment(a)}},[e("div",Bo,[D(e("img",Ao,null,512),[[y,"/assets/images/forex/investment/"+a.image]])]),e("div",To,[e("div",No,[e("div",Uo,[b(s(a.title)+" ",1),a.is_new==1?(r(),i("span",Vo,s(o.$t("New")),1)):p("",!0)]),e("div",Oo,[Ro,b(" "+s(a.duration)+" "+s(o.$t("Days")),1)])]),e("small",Go,s(a.desc),1),e("div",null,[b(s(a.duration)+" "+s(o.$t("Days"))+" "+s(o.$t("Return on Investment"))+": ",1),e("span",Ko,s(a.roi)+"%",1)])])],10,zo))),128))]),footer:c(()=>[e("div",Xo,[e("button",{type:"button",class:"btn btn-outline-secondary",onClick:n[0]||(n[0]=a=>t.forexStore.closeModal("selectInvestment"))},s(o.$t("Close")),1)])]),_:1})):p("",!0)]),_:1})}const Ho=$(Wo,[["render",Eo]]),Yo={components:{ProfileCard:$e,SummaryCards:Te,Transactions:tt,Investments:gt,InvestmentLogs:Vt,Signals:eo,DepositModal:fo,WithdrawModal:qo,InvestmentModal:Ho},setup(){const o=ne(),n=te(),t=L();async function l(){plat.kyc.kyc_status==1&&Number(plat.kyc.forex_restriction)===1&&(n.user||await n.fetch(),n.user.kyc_application||t.push("/identity"),n.user.kyc_application&&n.user.kyc_application.level<2&&n.user.kyc_application.status!=="approved"&&t.push("/identity"))}return ee(()=>{l()}),{userStore:n,forexStore:o}},created(){this.forexStore.fetch()}},Jo={class:"grid gap-5 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-3"},Qo={class:"grid grid-cols-2 gap-5"},Zo={key:1,class:"card"};function Lo(o,n,t,l,d,v){var j,q,W,F,M,B,T,E,H,Y;const _=m("profile-card"),y=m("summary-cards"),a=m("transactions"),w=m("investments"),x=m("investment-logs"),g=m("signals"),f=m("deposit-modal"),k=m("withdraw-modal"),P=m("investment-modal");return r(),i(S,null,[e("div",Jo,[u(_,{"user-store":l.userStore,"forex-store":l.forexStore},null,8,["user-store","forex-store"]),e("div",Qo,[l.forexStore.account!=null?(r(),h(y,{key:0,"forex-account":l.forexStore.account,"account-balance":l.forexStore.account.balance*(((q=(j=l.userStore)==null?void 0:j.currency)==null?void 0:q.rate)??1),"account-profit":(l.forexStore.forex_log&&l.forexStore.forex_log.profit?l.forexStore.forex_log.profit:0)*(((F=(W=l.userStore)==null?void 0:W.currency)==null?void 0:F.rate)??1),"total-investment":l.forexStore.investment_logs_amount*(((B=(M=l.userStore)==null?void 0:M.currency)==null?void 0:B.rate)??1),"investments-profit":l.forexStore.investment_logs_profit*(((E=(T=l.userStore)==null?void 0:T.currency)==null?void 0:E.rate)??1),"currency-symbol":l.userStore.currency?l.userStore.currency.symbol:"USD","forex-log":l.forexStore.forex_log,"investment-logs-amount":l.forexStore.investment_logs_amount,"investment-logs-profit":l.forexStore.investment_logs_profit},null,8,["forex-account","account-balance","account-profit","total-investment","investments-profit","currency-symbol","forex-log","investment-logs-amount","investment-logs-profit"])):p("",!0)]),l.forexStore.account!=null?(r(),h(a,{key:0,"forex-store":l.forexStore,"forex-logs":l.forexStore.forex_logs,"user-currency-rate":((Y=(H=l.userStore)==null?void 0:H.currency)==null?void 0:Y.rate)??1,"user-currency-symbol":l.userStore.currency?l.userStore.currency.symbol:"USD"},null,8,["forex-store","forex-logs","user-currency-rate","user-currency-symbol"])):(r(),i("div",Zo))]),l.forexStore.account!=null?(r(),h(w,{key:0,"forex-store":l.forexStore},null,8,["forex-store"])):p("",!0),l.forexStore.account!=null?(r(),h(x,{key:1,"forex-store":l.forexStore,"user-store":l.userStore},null,8,["forex-store","user-store"])):p("",!0),l.forexStore.account!=null?(r(),h(g,{key:2,"forex-signals":l.forexStore.account.signals},null,8,["forex-signals"])):p("",!0),u(f,{"forex-store":l.forexStore},null,8,["forex-store"]),u(k,{"forex-store":l.forexStore,"user-store":l.userStore},null,8,["forex-store","user-store"]),u(P,{"forex-store":l.forexStore},null,8,["forex-store"])],64)}const us=$(Yo,[["render",Lo]]);export{us as default};
