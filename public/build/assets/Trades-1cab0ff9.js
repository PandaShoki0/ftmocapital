import{_ as L,V as S,G as M,l as b,x as C,o as m,c as u,a as e,n as A,q as N,t as n,F,b as I,d as B,f as P}from"./bootstrap-249b0f62.js";import{u as V}from"./market-8356724b.js";import{L as z}from"./LoadingCircles-d67a70a4.js";import"./_commonjsHelpers-de833af9.js";import"./dijkstra-f906a09e.js";import"./preload-helper-f61836a9.js";import"./axios-7a713374.js";/* empty css                                                                       */const R={setup(){const r=V(),l=S(),o=M({data_symbol:null,trades:[],sideLength:11,refreshRate:500,activeItem:"marketTrades",isLoading:!0}),s=l.params.symbol,f=l.params.currency,g=b(()=>o.activeItem);function i(t){return g.value===t}function y(t){g.value=t}const p=l.meta.type==="futures"?"future":"market",T=b(()=>r[p]?k(r[p].precision.amount||1e-6):6),w=b(()=>r[p]?k(r[p].precision.price||1e-6):6);function k(t){if(Math.floor(t)===t)return 0;const a=t.toString(),c=/^(\d+\.?\d*|\.\d+)e([\+\-]\d+)$/.exec(a);if(c){const h=(c[1].split(".")[1]||"").length+parseInt(c[2]);return Math.min(h,8)}else{const d=a.split(".")[1]||"";return Math.min(d.length,8)}}function _(t,a=8,c=","){if(t==null||isNaN(t))return 0;(a<0||a>100)&&(a=8),t=parseFloat(t).toFixed(a);let[d,h]=t.toString().split(".");return d=d.replace(/\B(?=(\d{3})+(?!\d))/g,c),t=h?`${d}.${h}`:d,t}const v=t=>{const a=t[0].side==="sell"?"rgb(246,70,93)":"rgb(14,203,129)",c={price:_(t[0].price,w.value),amount:_(t[0].amount,T.value),time:x(t[0].datetime),color:a};o.trades.unshift(c),o.trades.length===o.sideLength&&o.trades.pop()},$=async()=>{for(r.exchange||await new Promise(t=>setTimeout(t,1e3));window.location.href.indexOf(`${s}/${f}`)>-1;)try{const t=await r.exchange.watchTrades(`${s}/${f}`);o.isLoading=!1,v(t)}catch{break}},x=t=>t.split("T")[1].split(".")[0];return C(()=>{$()}),{marketStore:r,state:o,activeItem:g,priceFormatter:_,updateTrades:v,formatTime:x,isActive:i,setActive:y}},components:{LoadingCircles:z}},q={class:"Trades border border-gray-100 bg-white shadow dark:border-gray-700 dark:bg-gray-900 relative"},E={class:"w-full bg-gray-200 dark:bg-gray-800"},G={id:"myTab",class:"nf flex-cols -mb-px flex overflow-x-hidden text-center",role:"tablist"},O={class:"mr-2"},j={id:"tradesContent"},H={key:0,id:"marketTrades",class:"px-3 pt-3"},J={class:"text-start",scope:"col"},K={class:"text-end",scope:"col"},Q={class:"text-end",style:{"padding-right":"5px"},scope:"col"},U={key:0},W={class:"amount text-dark text-end"},X={class:"time text-dark text-end"},Y={key:1},Z={colspan:"3",class:"text-center"},D=["loading"];function tt(r,l,o,s,f,g){return m(),u("div",q,[e("div",E,[e("ul",G,[e("li",O,[e("a",{id:"marketTrades-tab",class:A(["inline-block py-2 pl-3 pr-4 text-xs font-medium",s.isActive("marketTrades")?"border-gray-300 bg-white text-gray-700 dark:bg-gray-900 dark:text-gray-300":"cursor-pointer border-transparent bg-gray-200 text-gray-400 hover:border-gray-300 hover:bg-gray-300 hover:text-gray-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-gray-300"]),type:"button",role:"tab","aria-controls":"marketTrades","aria-selected":"false",onClick:l[0]||(l[0]=N(i=>s.setActive("marketTrades"),["prevent"]))},n(r.$t("Market Trades")),3)])])]),e("div",j,[s.state.activeItem==="marketTrades"?(m(),u("div",H,[e("table",null,[e("thead",null,[e("th",J,n(r.$t("Price")),1),e("th",K,n(r.$t("Amount")),1),e("th",Q,n(r.$t("Time")),1)]),s.state.trades.length>0?(m(),u("tbody",U,[(m(!0),u(F,null,I(s.state.trades,(i,y)=>(m(),u("tr",{key:y,class:"tdd"},[e("td",{class:"price",style:B("color:"+i.color)},n(i.price),5),e("td",W,n(i.amount),1),e("td",X,n(i.time),1)]))),128))])):(m(),u("tbody",Y,[e("tr",null,[e("td",Z,n(r.$t("No trades yet"))+". ",1)])]))])])):P("",!0)]),e("LoadingCircles",{loading:s.state.isLoading},null,8,D)])}const dt=L(R,[["render",tt]]);export{dt as default};
