import{t as B}from"./toMoney-88a56e62.js";import{t as N}from"./toDate-734c7690.js";import{F as W}from"./Filter-3bb21f90.js";import{C as F}from"./Col-3a6cbfed.js";import{u as z}from"./staking-db477289.js";import{u as L}from"./user-5d70a0d6.js";import{K as E}from"./flowbite-vue-7e69f603.js";import{B as R}from"./ButtonLoading-6507984c.js";import{_ as K,r as k,m as q,o as i,c as d,a as t,t as e,i as g,w as l,h as p,U as P,e as _,F as x,b as M,g as u,f as b,R as Y,T as C,q as w}from"./bootstrap-249b0f62.js";import"./_commonjsHelpers-de833af9.js";import"./dijkstra-f906a09e.js";import"./preload-helper-f61836a9.js";import"./axios-7a713374.js";const G={components:{toDate:N,toMoney:B,Filter:W,Col:F,Modal:E,ButtonLoading:R},setup(){const o=L(),n=z();return{userStore:o,stakingStore:n}},data(){return{plat,filters:{symbol:{value:"",keys:["symbol"]}},currentPage:1,totalPages:0,amount:0,selectedWallet:null,imageLoading:!0}},async created(){this.fetchData(),this.selectedWallet=this.stakingStore.wallets.find(o=>o.symbol==="USDT")||this.stakingStore.wallets[0],this.updateSelectedWallet()},methods:{async fetchData(){await this.stakingStore.fetchPublic(),await this.stakingStore.fetch()},async Stake(){await this.stakingStore.StakeNew(this.amount,this.wal)},async CancelStake(){await this.stakingStore.CancelStake()},async ClaimStake(){await this.stakingStore.ClaimStake()},updateSelectedWallet(){this.stakingStore.wallet=this.selectedWallet},async stackCall(o){if(!this.userStore.user)return window.location.href="/login";this.stakingStore.setCoin(o,"stake")}}},H={class:"card mb-5 bg-black",style:{"background-image":"url('/assets/images/staking/bg/banner.gif')"}},J={class:"card-body"},O={class:"grid gap-5 xs:grid-cols-1 md:grid-cols-3"},Q={class:"col-span-2 xs:col-span-3 md:col-span-2"},X={class:"px-2 py-2 text-center text-gray-200 dark:text-gray-200",style:{"background-color":"#000000db !important"}},Z={class:"dark:text-gray-20 tracking-widest text-gray-200 md:text-lg"},I={class:"col-span-1 sm:col-span-3 md:col-span-1"},$={class:"card shadow",style:{"border-top":"6px solid #2dbd96","background-color":"#000000db !important","border-bottom-right-radius":"10px","border-bottom-left-radius":"10px"}},tt={class:"card-body"},et={class:"px-2 py-2 text-center text-gray-500 dark:text-gray-400"},st={class:"text-gray-200 dark:text-gray-200"},ot={class:"flex justify-between"},nt={class:"text-center text-gray-200 dark:text-gray-200"},at={class:"text-center text-gray-200 dark:text-gray-200"},lt={class:"card-footer w-full text-center"},it={class:"my-5"},rt={class:"mb-4 items-center justify-between xs:block xs:space-y-5 sm:flex sm:space-y-0"},dt={class:"font-medium"},ct={class:"card relative overflow-x-auto"},gt={class:"bg-gray-100 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},mt={sortKey:"min_stake",scope:"col",class:"py-3 px-6"},kt={class:"py-3 px-6","data-label":"Coin"},ut={class:"flex items-center"},bt={class:"mr-2 rounded-full",width:32},yt={class:"fw-bold mr-1"},pt={class:"text-mute"},_t={class:"py-3 px-6","data-label":"APR"},ft={class:"text-success fw-bold"},St={class:"py-3 px-6","data-label":"Duration (Days)"},vt={class:"text-warning fw-bold"},ht={class:"py-3 px-6","data-label":"Minimum Stake Amount"},xt={class:""},Ct={class:"py-3 px-6","data-label":"Action"},wt={key:0},Pt=["onClick"],Mt=["onClick"],Dt=["onClick"],Tt=["onClick"],jt=["onClick"],Vt={key:1,scope:"row",class:"whitespace-nowrap py-4 px-6 font-medium text-gray-900 dark:text-white"},At={colspan:"100%",class:"py-4 px-6"},Ut={class:"sr-only"},Bt={class:"sr-only"},Nt={class:"flex items-center text-lg"},Wt={class:"mr-1"},Ft={class:"mb-3"},zt={for:"walletSelect"},Lt=["value"],Et={class:"flex justify-between"},Rt={for:"amount"},Kt={key:0,class:"text-light"},qt={class:"input-group mb-1 w-auto"},Yt={class:"card bg-black pb-3 mt-5"},Gt={class:"card-body"},Ht={class:"mb-1 flex justify-between"},Jt={class:"text-success"},Ot={class:"mb-1 flex justify-between"},Qt={class:"text-success"},Xt={class:"mb-1 flex justify-between"},Zt={class:"mb-1 flex justify-between"},It={class:"mb-1 flex justify-between"},$t={class:"mb-1 flex justify-between"},te={class:"mb-1 flex justify-between"},ee={class:"mb-1 flex justify-between"},se={class:"flex justify-between"},oe={class:"flex justify-end"},ne=["disabled"],ae={class:"flex items-center text-lg"},le={class:"mr-1"},ie={class:"ml-1"},re={class:"fw-bold"},de={class:"flex justify-end"},ce=["disabled"],ge={class:"flex items-center text-lg"},me={class:"mr-1"},ke={class:"ml-1"},ue={class:"fw-bold"},be={class:"flex justify-end"},ye=["disabled"];function pe(o,n,_e,s,m,y){const D=k("router-link"),T=k("Filter"),f=k("Col"),S=k("VTh"),j=k("toMoney"),V=k("VTable"),A=k("VTPagination"),v=k("ButtonLoading"),h=k("Modal"),U=q("lazy");return i(),d("div",null,[t("div",H,[t("div",J,[t("div",O,[t("div",Q,[t("div",X,[t("h1",null,e(o.$t("Staking")),1),t("p",Z,e(o.$t("Earn stable profits with professional asset management")),1)])]),t("div",I,[t("div",$,[t("div",tt,[t("div",et,[t("div",st,[t("div",null,e(o.$t("Assets"))+" (USDT)",1),(i(),d("div",{key:s.stakingStore.assets},e(s.stakingStore.assets),1))])]),t("div",ot,[t("div",nt,[t("div",null,e(o.$t("Yesterday Profit"))+" (USDT)",1),(i(),d("div",{key:s.stakingStore.last_profit},e(s.stakingStore.last_profit),1))]),t("div",at,[t("div",null,e(o.$t("Total Profit"))+" (USDT)",1),(i(),d("div",{key:s.stakingStore.total_profit},e(s.stakingStore.total_profit),1))])])]),t("div",lt,[g(D,{to:"/staking/logs"},{default:l(()=>[n[16]||(n[16]=t("i",{class:"bi bi-chevron-right mr-2"},null,-1)),t("span",null,e(o.$t("View More")),1)]),_:1})])])])])])]),t("div",it,[t("div",rt,[t("div",dt,e(o.$t("Running Contracts")),1),g(T,null,{default:l(()=>[p(t("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>m.filters.symbol.value=r),type:"text",class:"filter-input",placeholder:"Symbol"},null,512),[[P,m.filters.symbol.value]])]),_:1})]),t("div",ct,[(i(),_(V,{key:s.stakingStore.coins.length,"current-page":m.currentPage,"onUpdate:currentPage":n[1]||(n[1]=r=>m.currentPage=r),class:"w-full text-left text-sm text-gray-500 dark:text-gray-400",data:s.stakingStore.coins,filters:m.filters,"page-size":10,"hide-sort-icons":!0,onTotalPagesChanged:n[2]||(n[2]=r=>m.totalPages=r)},{head:l(()=>[t("tr",gt,[g(S,{"sort-key":"symbol",scope:"col",class:"py-3 px-6"},{default:l(()=>[g(f,{text:"Coin"})]),_:1}),g(S,{"sort-key":"profit",scope:"col",class:"py-3 px-6"},{default:l(()=>[g(f,{text:"Staking Profit"})]),_:1}),g(S,{"sort-key":"duration",scope:"col",class:"py-3 px-6"},{default:l(()=>[g(f,{text:"Duration (Days)"})]),_:1}),t("th",mt,e(o.$t("Minimum Stake Amount")),1),n[17]||(n[17]=t("th",{scope:"col",class:"py-3 px-6"},null,-1))])]),body:l(({rows:r})=>[s.stakingStore.coins.length>0?(i(!0),d(x,{key:0},M(r,a=>(i(),d("tr",{key:a.id,class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},[t("td",kt,[t("div",ut,[p(t("img",bt,null,512),[[U,a.icon?"/assets/images/staking/"+a.icon:"/assets/images/cryptoCurrency/"+a.symbol+".png"]]),t("span",yt,e(a.symbol),1),t("span",pt,"("+e(a.title)+")",1)])]),t("td",_t,[t("span",ft,e(a.profit)+"%",1)]),t("td",St,[t("span",vt,e(a.period),1)]),t("td",ht,[t("span",xt,[g(j,{num:a.min_stake,decimals:"4"},null,8,["num"]),u(" "+e(a.symbol),1)])]),t("td",Ct,[s.stakingStore.coinlogs!=null?(i(),d("div",wt,[s.stakingStore.coinlogs[a.id]!=null?(i(),d("div",{key:s.stakingStore.coinlogs[a.id].status,class:"space-x-2 space-y-2"},[s.stakingStore.coinlogs[a.id].status!=null?(i(),d(x,{key:0},[s.stakingStore.coinlogs[a.id].status!=2?(i(),d("button",{key:0,type:"button",class:"btn btn-warning btn-sm",onClick:c=>s.stakingStore.setCoin(a,"stake")},e(o.$t("Stake")),9,Pt)):b("",!0),m.plat.staking.cancel_stake==1&&s.stakingStore.coinlogs[a.id].status==1?(i(),d("button",{key:1,type:"button",class:"btn btn-danger btn-sm",onClick:c=>s.stakingStore.setCoin(a,"cancel")},e(o.$t("Cancel")),9,Mt)):s.stakingStore.coinlogs[a.id].status==2?(i(),d("button",{key:2,type:"button",class:"btn btn-success btn-sm",onClick:c=>s.stakingStore.setCoin(a,"claim")},e(o.$t("Claim Profit")),9,Dt)):b("",!0)],64)):b("",!0)])):(i(),d("button",{key:1,type:"button",class:"btn btn-warning btn-sm",onClick:c=>y.stackCall(a)},e(o.$t("Stake")),9,Tt))])):(i(),d("button",{key:1,type:"button",class:"btn btn-warning btn-sm",onClick:c=>s.stakingStore.setCoin(a,"stake")},e(o.$t("Stake")),9,jt))])]))),128)):(i(),d("tr",Vt,[t("td",At,e(o.$t("No results found!")),1)]))]),_:1},8,["current-page","data","filters"]))]),g(A,{currentPage:m.currentPage,"onUpdate:currentPage":n[3]||(n[3]=r=>m.currentPage=r),class:"float-right flex items-center justify-between pt-4","aria-label":"Table navigation","total-pages":m.totalPages,"max-page-links":3,"boundary-links":!0},{firstPage:l(()=>[u(e(o.$t("First")),1)]),lastPage:l(()=>[u(e(o.$t("Last")),1)]),next:l(()=>[t("span",Ut,e(o.$t("Next")),1),n[18]||(n[18]=t("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))]),previous:l(()=>[t("span",Bt,e(o.$t("Previous")),1),n[19]||(n[19]=t("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))]),_:1},8,["currentPage","total-pages"])]),t("form",{onSubmit:n[9]||(n[9]=w(r=>y.Stake(),["prevent"]))},[g(C,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:l(()=>[s.stakingStore.isShowModal.stake?(i(),_(h,{key:s.stakingStore.coin.length,size:"lg",onClose:n[8]||(n[8]=r=>s.stakingStore.closeModal("stake"))},{header:l(()=>[t("div",Nt,[t("span",Wt,e(o.$t("Staking")),1),t("span",null,e(s.stakingStore.coin.symbol),1)])]),body:l(()=>{var r,a;return[t("div",Ft,[t("label",zt,e(o.$t("Select Wallet")),1),p(t("select",{id:"walletSelect","onUpdate:modelValue":n[4]||(n[4]=c=>m.selectedWallet=c),onChange:n[5]||(n[5]=(...c)=>y.updateSelectedWallet&&y.updateSelectedWallet(...c)),class:"form-select"},[(i(!0),d(x,null,M(s.stakingStore.wallets,c=>(i(),d("option",{key:c.id,value:c},e(c.symbol)+" - "+e(c.type)+" ("+e(Number(c.balance).toFixed(2))+" "+e(c.symbol)+") ",9,Lt))),128))],544),[[Y,m.selectedWallet]])]),t("div",Et,[t("label",Rt,e(o.$t("Stake Amount")),1),s.stakingStore.wallet!=null?(i(),d("span",Kt,e(Number((a=(r=s.stakingStore)==null?void 0:r.wallet)==null?void 0:a.balance).toFixed(2))+" "+e(s.stakingStore.wallet.symbol),1)):b("",!0)]),t("div",qt,[p(t("input",{"onUpdate:modelValue":n[6]||(n[6]=c=>m.amount=c),type:"number",step:"0.00000001",required:"",min:"0",placeholder:"Amount"},null,512),[[P,m.amount]]),t("span",null,e(s.stakingStore.coin.symbol),1)]),t("div",Yt,[t("div",Gt,[t("div",Ht,[t("span",null,e(o.$t("Price")),1),t("span",Jt,e(s.stakingStore.coin.price)+" USDT",1)]),t("div",Ot,[t("span",null,e(o.$t("Est. Annual Profit Rate")),1),t("span",Qt,e(s.stakingStore.coin.apr)+"%",1)]),t("div",Xt,[t("span",null,e(o.$t("Staked Amount")),1),t("span",null,e(s.stakingStore.coin.staked),1)]),t("div",Zt,[t("span",null,e(o.$t("Max Available")),1),t("span",null,e(s.stakingStore.coin.max_stake),1)]),t("div",It,[t("span",null,e(o.$t("Staking period")),1),t("span",null,e(s.stakingStore.coin.period)+" "+e(o.$t("Days")),1)]),t("div",$t,[t("span",null,e(o.$t("Staking Method")),1),t("span",null,e(s.stakingStore.coin.method),1)]),t("div",te,[t("span",null,e(o.$t("Coin Network")),1),t("span",null,e(s.stakingStore.coin.network),1)]),t("div",ee,[t("span",null,e(o.$t("Profit Distribution")),1),t("span",null,e(s.stakingStore.coin.profit_unit),1)]),t("div",se,[t("span",null,e(o.$t("Est. Daily Profits")),1),t("span",null,e(s.stakingStore.coin.daily_profit),1)])])])]}),footer:l(()=>[t("div",oe,[t("button",{type:"submit",disabled:s.stakingStore.loading,class:"btn btn-outline-primary mr-3"},[g(v,{loading:s.stakingStore.loading,text:"Stake"},null,8,["loading"])],8,ne),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:n[7]||(n[7]=r=>s.stakingStore.closeModal("stake"))},e(o.$t("Close")),1)])]),_:1})):b("",!0)]),_:1})],32),t("form",{onSubmit:n[12]||(n[12]=w(r=>y.CancelStake(),["prevent"]))},[g(C,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:l(()=>[s.stakingStore.isShowModal.cancel?(i(),_(h,{key:s.stakingStore.coin.length,size:"lg",onClose:n[11]||(n[11]=r=>s.stakingStore.closeModal("cancel"))},{header:l(()=>[t("div",ae,[t("span",le,e(o.$t("Cancel")),1),t("span",null,e(s.stakingStore.coin.symbol),1),t("span",ie,e(o.$t("Staking")),1)])]),body:l(()=>[t("p",null,[u(e(o.$t("Are you sure to cancel"))+" ",1),t("span",re,e(s.stakingStore.coin.symbol),1),u(" "+e(o.$t("Stake"))+"? ",1)])]),footer:l(()=>[t("div",de,[t("button",{type:"submit",disabled:s.stakingStore.loading,class:"btn btn-outline-danger mr-3"},[g(v,{loading:s.stakingStore.loading,text:"Cancel Stake"},null,8,["loading"])],8,ce),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:n[10]||(n[10]=r=>s.stakingStore.closeModal("cancel"))},e(o.$t("Close")),1)])]),_:1})):b("",!0)]),_:1})],32),t("form",{onSubmit:n[15]||(n[15]=w(r=>y.ClaimStake(),["prevent"]))},[g(C,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:l(()=>[s.stakingStore.isShowModal.claim?(i(),_(h,{key:s.stakingStore.coin.length,size:"lg",onClose:n[14]||(n[14]=r=>s.stakingStore.closeModal("claim"))},{header:l(()=>[t("div",ge,[t("span",me,e(o.$t("Cancel")),1),t("span",null,e(s.stakingStore.coin.symbol),1),t("span",ke,e(o.$t("Staking")),1)])]),body:l(()=>[t("p",null,[u(e(o.$t("Are you sure to claim"))+" ",1),t("span",ue,e(s.stakingStore.coin.symbol),1),u(" "+e(o.$t("Stake"))+"? ",1)])]),footer:l(()=>[t("div",be,[t("button",{type:"submit",disabled:s.stakingStore.loading,class:"btn btn-outline-success mr-3"},[g(v,{loading:s.stakingStore.loading,text:"Claim Stake"},null,8,["loading"])],8,ye),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:n[13]||(n[13]=r=>s.stakingStore.closeModal("claim"))},e(o.$t("Close")),1)])]),_:1})):b("",!0)]),_:1})],32)])}const Ae=K(G,[["render",pe]]);export{Ae as default};
