import{u as f}from"./ecommerce-8a3dfd9f.js";import{_ as m,o as l,c,a as t,n as _,r as b,e as u,w as r,t as i,f as v,T as y}from"./bootstrap-9979bcf7.js";import{K as g}from"./flowbite-vue-3e651750.js";import{u as x}from"./wallets-5d4d7fa5.js";const w={props:{productId:{type:Number,required:!0},isActive:{type:Boolean,required:!0},size:{type:String,default:"text-xl"},color:{type:String,default:"text-gray-500"}},emits:["update:isActive"],setup(){return{ecommerceStore:f()}},methods:{async addToWishlist(){await axios.post("/user/marketplace/wishlist/"+(this.isActive==!0?"remove":"add"),{id:this.productId}).then(e=>{this.$route.meta.title=="Wishlist"?this.ecommerceStore.fetch_wishlists():(this.ecommerceStore.fetch_products(),this.ecommerceStore.fetch_wishlists()),this.$toast[e.type](e.message),this.$emit("update:isActive",!this.isActive)}).catch(e=>{this.$toast.error(e.response.message)})}}};function S(e,s,o,h,p,a){return l(),c("a",{class:"flex items-center justify-center",onClick:s[0]||(s[0]=d=>a.addToWishlist())},[t("i",{class:_(["bi bi-heart-fill",[o.isActive?"bi bi-heart-fill text-danger":"",o.size,o.color]]),style:{margin:"0 !important"}},null,2)])}const K=m(w,[["render",S]]),C={components:{Modal:g},props:{product:{type:Object,required:!0},wallet:{type:Object,default:null},visible:{type:Boolean,required:!0},loading:{type:Boolean,default:!1}},emits:["close","purchase"],setup(){return{walletsStore:x()}},computed:{productPrice(){return this.product.price-this.product.discount}},methods:{onPurchase(){this.$emit("purchase",this.product.id)},CreateWallet(){this.walletsStore.create("USDT","funding")}}},k={class:"flex items-center text-lg"},$={id:"modal-headline",class:"text-lg font-medium leading-6"},W={class:"mb-5 text-sm"},B={class:"mb- text-lg font-medium"},P={key:0},A=t("label",{for:"wallet_id"},"USDT Funding Wallet:",-1),T={class:"flex items-center"},j={class:"text-warning font-medium"},q={key:1},z={class:"flex justify-end"},M=["disabled"];function N(e,s,o,h,p,a){const d=b("Modal");return l(),u(y,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:r(()=>[o.visible?(l(),u(d,{key:0,size:"2xl",onClose:s[3]||(s[3]=n=>e.$emit("close"))},{header:r(()=>[t("div",k,[t("h3",$,i(o.product.name),1)])]),body:r(()=>[t("p",W,i(o.product.description),1),t("p",B,"$"+i(a.productPrice),1),o.wallet?(l(),c("div",P,[A,t("div",T,[t("span",j,i(Number(o.wallet.balance).toFixed(2))+" "+i(o.wallet.symbol),1)])])):(l(),c("div",q,[t("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=n=>a.CreateWallet())},i(e.$t("Create Wallet")),1)]))]),footer:r(()=>[t("div",z,[t("button",{type:"button",class:"btn btn-outline-success mr-3",disabled:o.loading,onClick:s[1]||(s[1]=n=>a.onPurchase())}," Purchase ",8,M),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[2]||(s[2]=n=>e.$emit("close"))},i(e.$t("Cancel")),1)])]),_:1})):v("",!0)]),_:1})}const O=m(C,[["render",N]]);export{O as P,K as W};
