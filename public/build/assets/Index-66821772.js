import{Q as b,_ as w,r as y,o as n,c as a,a as e,t as s,q as x,g as r,i as h,w as _,F as l,b as p,f as S}from"./bootstrap-249b0f62.js";import"./_commonjsHelpers-de833af9.js";import"./dijkstra-f906a09e.js";import"./preload-helper-f61836a9.js";import"./axios-7a713374.js";const L=b("knowledge",{state:()=>({categories:[],popularArticles:[],isLoading:!0}),actions:{async fetch(){await axios.get("/user/knowledge").then(t=>{this.categories=t.categories,this.popularArticles=t.popularArticles}).catch(t=>{}).finally(()=>{this.isLoading=!1})},async fetchpublic(){await axios.post("/publicroute/knowledge").then(t=>{this.categories=t.categories,this.popularArticles=t.popularArticles}).catch(t=>{}).finally(()=>{this.isLoading=!1})}},persist:!0});const A={components:{},setup(){return{knowledgeStore:L()}},created(){document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("searchbar"),i=document.querySelectorAll(".kb-search-content-info .kb-search-content"),g=document.querySelector(".kb-search-content-info .no-result");t.addEventListener("keyup",function(){var c=this.value.toLowerCase();if(c!=""){i.forEach(function(d){d.style.display=d.textContent.toLowerCase().indexOf(c)>-1?"":"none"});var m=Array.from(i).filter(function(d){return d.style.display!=="none"}).length;m==0?g.classList.remove("no-items"):g.classList.contains("no-items")||g.classList.add("no-items")}else i.forEach(function(d){d.style.display=""})})})},mounted(){this.fetchCategories()},methods:{async fetchCategories(){this.knowledgeStore.categories.length==0&&(await this.knowledgeStore.fetchpublic(),await this.knowledgeStore.fetch())},search(){this.$router.push("/knowledge/faq/"+this.$refs.search.value).catch(t=>{t.name!=="NavigationDuplicated"&&!t.message.includes("Avoided redundant navigation to current location")&&logError(t)})}}},$={id:"knowledge-base-search"},C={class:"card knowledge-base-bg mb-5 bg-cover bg-center text-center",style:"background-image: url('/assets/images/banner/banner.png'); background-color: rgba(115, 103, 240, 0.12);"},E={class:"card-body"},q={class:"text-primary mb-5 text-2xl"},N={class:"input-group"},B={ref:"search",type:"text",placeholder:"Ask a question..."},I={class:"mt-2"},D={class:"grid gap-5 xs:grid-cols-1 md:grid-cols-3"},V={class:"xs:col-span-1 md:col-span-2"},F={id:"knowledge-base-category"},O={class:"grid gap-5 xs:grid-cols-1 md:grid-cols-2"},j={key:0,class:"card"},K={class:"card-body"},M={class:"card-body"},Q={class:"mb-2 flex items-center justify-between border-b border-gray-300 p-1 dark:border-gray-600"},P={class:"text-warning"},T={class:"list-disc"},z={key:1,class:"no-result no-items text-center"},G={class:"mt-4"},H={class:"col-span-1"},J={class:"card mb-5"},R={class:"card-header"},U={class:"card-title"},W={class:"title-gradient"},X={class:"card-body"},Y={class:"support-container"},Z={class:"card"},ee={class:"card-header"},te={class:"card-title"},se={class:"title-gradient"},oe={class:"card-body"},ne={class:"list-disc"};function ae(t,i,g,c,m,d){const u=y("router-link");return n(),a("div",null,[e("section",$,[e("div",C,[e("div",E,[e("h2",q,s(t.$t("Dedicated Knowledge Base")),1),e("form",{class:"kb-search-input",onSubmit:i[0]||(i[0]=x(o=>d.search(),["prevent"]))},[e("div",N,[e("input",B,null,512),i[1]||(i[1]=e("span",null,[e("i",{class:"bi bi-search"})],-1))])],32),e("p",I,[r(s(t.$t("Or click"))+" ",1),h(u,{class:"text-info",to:"/knowledge/faq"},{default:_(()=>[r(s(t.$t("FAQs")),1)]),_:1}),r(" "+s(t.$t("to find all answers you looking for"))+"! ",1)])])])]),e("div",D,[e("div",V,[e("section",F,[e("div",O,[c.knowledgeStore.isLoading?(n(),a("div",j,[e("div",K,[i[2]||(i[2]=e("h6",{class:"mb-2 flex items-center justify-between border-b border-gray-300 p-1 dark:border-gray-600"},[e("div",{class:"skeleton h-4 w-1/2 rounded"}),e("div",{class:"skeleton h-4 w-1/4 rounded"})],-1)),(n(),a(l,null,p(5,o=>e("div",{key:o,class:"skeleton mb-2 h-4 w-full rounded"})),64))])])):(n(),a(l,{key:1},[c.knowledgeStore.categories!=null?(n(!0),a(l,{key:0},p(c.knowledgeStore.categories,(o,f)=>(n(),a(l,null,[o.articles_count!=0?(n(),a("div",{key:f,class:"card"},[e("div",M,[e("h6",Q,[h(u,{class:"text-info",to:"/knowledge/categories/"+o.slug+"/"+o.id},{default:_(()=>[r(s(o.name),1)]),_:2},1032,["to"]),e("span",P,"("+s(o.articles_count)+")",1)]),e("div",T,[(n(!0),a(l,null,p(o.articles,(k,v)=>(n(),a("li",{key:v},[h(u,{class:"text-dark",to:"/knowledge/articles/"+k.slug+"/"+k.id},{default:_(()=>[r(s(k.title),1)]),_:2},1032,["to"])]))),128))])])])):S("",!0)],64))),256)):(n(),a("div",z,[e("h4",G,s(t.$t("Search result not found!")),1)]))],64))])])]),e("div",H,[e("div",J,[e("div",R,[e("div",U,[e("div",W,s(t.$t("Need more Support")),1)])]),e("div",X,[e("div",Y,[r(s(t.$t("If you cannot find an answer in the knowledgebase, you can"))+" ",1),h(u,{to:"/support",class:"text-info"},{default:_(()=>[r(s(t.$t("contact us")),1)]),_:1}),r(" "+s(t.$t("for further help.")),1)])])]),e("div",Z,[e("div",ee,[e("div",te,[e("div",se,s(t.$t("Popular Articles")),1)])]),e("div",oe,[e("div",ne,[(n(!0),a(l,null,p(c.knowledgeStore.popularArticles,(o,f)=>(n(),a("li",{key:f},[h(u,{class:"text-dark",to:"/knowledge/articles/"+o.slug+"/"+o.id},{default:_(()=>[r(s(o.title),1)]),_:2},1032,["to"])]))),128))])])])])])])}const ue=w(A,[["render",ae],["__scopeId","data-v-3c515c50"]]);export{ue as default};
