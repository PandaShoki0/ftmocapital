import{P as M}from"./ProductCard-90a5756b.js";import{_ as b,o as s,c as i,a as e,t as l,n as c,F as f,b as w,g as x,q as z,f as P,a4 as F,r as h,h as _,U as C,i as m,w as p,e as k,z as A,T as N}from"./bootstrap-249b0f62.js";import{u as T}from"./ecommerce-b160e1fe.js";import"./PurchaseModal-e0c490ff.js";import"./flowbite-vue-7e69f603.js";import"./wallets-92ad6f06.js";import"./_commonjsHelpers-de833af9.js";import"./dijkstra-f906a09e.js";import"./preload-helper-f61836a9.js";import"./axios-7a713374.js";const L={props:{categories:{type:Array,required:!0},selectedCategoryId:{type:Number,default:null}},emits:["update:selectedCategoryId"],methods:{resetCategoryFilter(){this.$emit("update:selectedCategoryId",null)},filterByCategory(t){this.$emit("update:selectedCategoryId",t)}}},V={class:"mt-2 flex items-center justify-between border-gray-200 py-1 px-3 text-sm font-medium uppercase text-gray-500 dark:border-gray-700 dark:text-gray-400"},j={class:"space-y-1 p-2"},q=["onClick"];function H(t,r,o,n,u,d){return s(),i("div",null,[e("div",V,[e("h3",null,l(t.$t("Categories")),1)]),r[2]||(r[2]=e("hr",{class:"border-gray-200 dark:border-gray-700"},null,-1)),e("ul",j,[e("li",null,[e("a",{class:c(["flex items-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",o.selectedCategoryId===null?"border-l-4 border-blue-400 bg-gray-100 dark:bg-gray-700":""]),onClick:r[0]||(r[0]=(...a)=>d.resetCategoryFilter&&d.resetCategoryFilter(...a))},[r[1]||(r[1]=e("svg",{"aria-hidden":"true",class:"h-6 w-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"}),e("path",{d:"M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"})],-1)),e("span",{class:c(["ml-3",{"text-black dark:text-white":o.selectedCategoryId===null,"text-black dark:text-white":o.selectedCategoryId!==null}])},l(t.$t("All")),3)],2)]),e("li",null,[(s(!0),i(f,null,w(o.categories,(a,g)=>(s(),i("a",{key:g,class:c(["flex items-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",{"":o.selectedCategoryId!==a.id,"border-l-4 border-blue-400 bg-gray-100 dark:bg-gray-700":o.selectedCategoryId===a.id}]),onClick:v=>d.filterByCategory(a.id)},[e("div",{class:c(["h-6 w-6 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",{"text-black dark:text-white":o.selectedCategoryId===null||o.selectedCategoryId!==a.id,"text-white dark:text-white":o.selectedCategoryId===a.id}])},[e("i",{class:c(a.icon?"bi bi-"+a.icon:"")},null,2)],2),e("span",{class:c(["ml-3",{"text-black dark:text-white":o.selectedCategoryId===null||o.selectedCategoryId!==a.id,"text-white dark:text-white":o.selectedCategoryId===a.id}])},l(a.name),3)],10,q))),128))])])])}const R=b(L,[["render",H]]),U={props:{tags:{type:Array,required:!0},activeTag:{type:String,required:!1}},emits:["filterByTag","removeTag"],methods:{filterByTag(t){this.$emit("filterByTag",t)},removeTag(){this.$emit("removeTag")}}},D={class:"mt-5 flex items-center justify-between py-1 px-3 text-sm font-medium uppercase text-gray-500 dark:text-gray-400"},E={class:"p-2"},O=["onClick"],W=["onClick"];function G(t,r,o,n,u,d){return s(),i("div",null,[e("div",D,[e("h3",null,l(t.$t("Tags")),1)]),r[1]||(r[1]=e("hr",{class:"border-gray-200 dark:border-gray-700"},null,-1)),e("div",E,[(s(!0),i(f,null,w(o.tags,(a,g)=>(s(),i("span",{key:g,class:c(["mr-2 mb-2 inline-flex items-center px-1 py-1 text-sm font-medium",{"rounded bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":o.activeTag===a," rounded bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":o.activeTag!==a}]),onClick:v=>d.filterByTag(a)},[x(l(a)+" ",1),o.activeTag===a?(s(),i("button",{key:0,type:"button",class:"ml-2 inline-flex items-center rounded-sm bg-transparent p-0.5 text-sm text-indigo-400 hover:bg-indigo-200 hover:text-indigo-900 dark:hover:bg-indigo-800 dark:hover:text-indigo-300","aria-label":"Remove",onClick:z(v=>d.removeTag(a),["stop"])},r[0]||(r[0]=[e("svg",{"aria-hidden":"true",class:"h-3.5 w-3.5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),e("span",{class:"sr-only"},"Remove badge",-1)]),8,W)):P("",!0)],10,O))),128))])])}const J=b(U,[["render",G]]),K={name:"ProductSidebar"},Q={ref:"asideElement","aria-label":"Sidebar"},X={class:"h-full overflow-y-auto"};function Y(t,r,o,n,u,d){return s(),i("aside",Q,[e("div",X,[F(t.$slots,"default")])],512)}const Z=b(K,[["render",Y]]),ee={setup(){return{ecommerceStore:T()}}},te={class:"rounded border-gray-200 bg-white px-2 py-2.5 dark:bg-gray-900 sm:px-4"},re={class:"container mx-auto flex flex-wrap items-center justify-between"},ae={class:"self-center whitespace-nowrap text-xl font-semibold dark:text-white"},oe={class:"flex md:order-2"},se={type:"button","data-collapse-toggle":"navbar-search","aria-controls":"navbar-search","aria-expanded":"false",class:"mr-1 rounded-lg p-2.5 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-700 md:hidden"},de={class:"sr-only"},le={class:"relative hidden md:block"},ie={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},ne={class:"sr-only"},ce={"data-collapse-toggle":"navbar-search",type:"button",class:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 md:hidden","aria-controls":"navbar-search","aria-expanded":"false"},ge={class:"sr-only"},ue={id:"navbar-search",class:"hidden w-full items-center justify-between md:order-1 md:flex md:w-auto"},me={class:"relative mt-3 md:hidden"},he={class:"mt-4 flex flex-col rounded-lg border border-gray-100 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-800 md:mt-0 md:flex-row md:space-x-8 md:border-0 md:bg-white md:text-sm md:font-medium md:dark:bg-gray-900"};function pe(t,r,o,n,u,d){const a=h("router-link");return s(),i("nav",te,[e("div",re,[e("span",ae,l(t.$t("Marketplace")),1),e("div",oe,[e("button",se,[r[2]||(r[2]=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})],-1)),e("span",de,l(t.$t("Search")),1)]),e("div",le,[e("div",ie,[r[3]||(r[3]=e("svg",{class:"h-5 w-5 text-gray-500","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})],-1)),e("span",ne,l(t.$t("Search icon")),1)]),_(e("input",{id:"search-navbar","onUpdate:modelValue":r[0]||(r[0]=g=>n.ecommerceStore.search=g),type:"text",class:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Search..."},null,512),[[C,n.ecommerceStore.search]])]),e("button",ce,[e("span",ge,l(t.$t("Open menu")),1),r[4]||(r[4]=e("svg",{class:"h-6 w-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1))])]),e("div",ue,[e("div",me,[r[5]||(r[5]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"h-5 w-5 text-gray-500","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),_(e("input",{id:"search-navbar","onUpdate:modelValue":r[1]||(r[1]=g=>n.ecommerceStore.search=g),type:"text",class:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Search..."},null,512),[[C,n.ecommerceStore.search]])]),e("ul",he,[e("li",null,[m(a,{to:"/marketplace/index",class:c(t.$route.path=="/marketplace/index"?"block rounded bg-blue-700 py-2 pl-3 pr-4 text-white dark:text-white md:bg-transparent md:p-0 md:text-blue-700":"block rounded py-2 pl-3 pr-4 text-gray-700 hover:bg-gray-100 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:p-0 md:hover:bg-transparent md:hover:text-blue-700 md:dark:hover:bg-transparent md:dark:hover:text-white"),"aria-current":"page"},{default:p(()=>[x(l(t.$t("Products")),1)]),_:1},8,["class"])]),e("li",null,[m(a,{to:"/marketplace/wishlist",class:c(t.$route.path=="/marketplace/wishlist"?"block rounded bg-blue-700 py-2 pl-3 pr-4 text-white dark:text-white md:bg-transparent md:p-0 md:text-blue-700":"block rounded py-2 pl-3 pr-4 text-gray-700 hover:bg-gray-100 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:p-0 md:hover:bg-transparent md:hover:text-blue-700 md:dark:hover:bg-transparent md:dark:hover:text-white")},{default:p(()=>[x(l(t.$t("Wishlist")),1)]),_:1},8,["class"])]),e("li",null,[m(a,{to:"/marketplace/order-history",class:c(t.$route.path=="/marketplace/wishlist"?"block rounded bg-blue-700 py-2 pl-3 pr-4 text-white dark:text-white md:bg-transparent md:p-0 md:text-blue-700":"block rounded py-2 pl-3 pr-4 text-gray-700 hover:bg-gray-100 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:p-0 md:hover:bg-transparent md:hover:text-blue-700 md:dark:hover:bg-transparent md:dark:hover:text-white")},{default:p(()=>[x(l(t.$t("Orders")),1)]),_:1},8,["class"])])])])])])}const ye=b(ee,[["render",pe]]),be={components:{ProductCard:M,Categories:R,Tags:J,ProductSidebar:Z,Navigation:ye},emits:["refreshProducts"],setup(){return{ecommerceStore:T()}},data(){return{selectedCategoryId:null,selectedTag:null,activeCategory:null,activeTag:null,component:null}},computed:{filteredProducts(){let t=this.ecommerceStore.products;return this.selectedCategoryId!==null&&(t=t.filter(r=>r.category_id===this.selectedCategoryId)),this.selectedTag!==null&&(t=t.filter(r=>r.tags.includes(this.selectedTag))),this.ecommerceStore.search&&(t=t.filter(r=>r.name.toLowerCase().includes(this.ecommerceStore.search.toLowerCase()))),t}},watch:{$route(t,r){t.meta.title!=="Marketplace"?this.component=t.path:this.component=null}},mounted(){this.$route.meta.title!=="Marketplace"?this.component=this.$route.path:this.component=null,this.fetch()},methods:{removeTag(){this.selectedTag=null,this.activeTag=null},async fetch(){this.ecommerceStore.products.length==0&&(await this.ecommerceStore.fetch_products_public(),await this.ecommerceStore.fetch_products())},filterByCategory(t){this.selectedCategoryId=t,this.selectedTag=null,this.activeCategory=t,this.activeTag=null},resetCategoryFilter(){this.selectedCategoryId=null,this.activeCategory=null},handleFilterByTag(t){this.selectedTag=t,this.selectedCategoryId=null,this.activeTag=t,this.activeCategory=null},isCategoryActive(t){return this.activeCategory===t},isTagActive(t){return t.includes(this.activeTag)}}},ve={key:0,class:"grid gap-5 overflow-x-hidden xs:grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},xe={class:"col-span-1"},fe={class:"md:col-span-2 lg:col-span-3 xl:col-span-4"},ke={class:"rounded-lg p-5"},we={class:"grid grid-cols-1 gap-5 py-5 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};function _e(t,r,o,n,u,d){const a=h("Navigation"),g=h("Categories"),v=h("Tags"),$=h("ProductSidebar"),S=h("ProductCard"),I=h("router-view");return s(),i(f,null,[m(a),u.component==null?(s(),i("div",ve,[e("div",xe,[m($,null,{default:p(()=>[m(g,{categories:n.ecommerceStore.categories,"selected-category-id":u.selectedCategoryId,"onUpdate:selectedCategoryId":r[0]||(r[0]=y=>u.selectedCategoryId=y)},null,8,["categories","selected-category-id"]),m(v,{tags:n.ecommerceStore.tags,"active-tag":u.activeTag,onFilterByTag:d.handleFilterByTag,onRemoveTag:d.removeTag},null,8,["tags","active-tag","onFilterByTag","onRemoveTag"])]),_:1})]),e("div",fe,[e("div",ke,[e("div",we,[(s(!0),i(f,null,w(d.filteredProducts,(y,B)=>(s(),k(S,{key:B,product:y},null,8,["product"]))),128))])])])])):(s(),k(I,{key:1},{default:p(({Component:y})=>[m(N,{type:"animation",name:"zoom-fade",mode:"out-in",duration:300},{default:p(()=>[(s(),k(A(y)))]),_:2},1024)]),_:1}))],64)}const Ae=b(be,[["render",_e]]);export{Ae as default};
