import{t as h}from"./toDate-734c7690.js";import{F as x}from"./Filter-3bb21f90.js";import{C as v}from"./Col-3a6cbfed.js";import{_ as P,r as d,o as c,c as p,a as t,i as l,w as o,g as u,t as s,h as w,U as T,e as C,F as V,b as D,f as F}from"./bootstrap-249b0f62.js";import"./_commonjsHelpers-de833af9.js";import"./dijkstra-f906a09e.js";import"./preload-helper-f61836a9.js";import"./axios-7a713374.js";const S={components:{toDate:h,Filter:x,Col:v},data(){return{tickets:[],filters:{ticket:{value:"",keys:["ticket"]}},currentPage:1,totalPages:0}},created(){this.fetchData()},methods:{fetchData(){axios.get("/user/support/tickets").then(e=>{this.tickets=e})}}},j={class:"my-2 text-end"},B={class:"mb-4 items-center justify-between xs:block xs:space-y-5 sm:flex sm:space-y-0"},L={class:"font-medium"},N={class:"card relative overflow-x-auto"},$={class:"bg-gray-100 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},U={scope:"col"},z={"data-label":"Subject",class:"py-4 px-6"},A={"data-label":"Status",class:"py-4 px-6"},M={key:0,class:"badge bg-success"},R={key:1,class:"badge bg-primary"},E={key:2,class:"badge bg-warning"},I={key:3,class:"badge bg-danger"},O={"data-label":"Last Reply",class:"py-4 px-6"},q={"data-label":"Action",class:"py-4 px-6"},G={key:1,scope:"row",class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},H={colspan:"100%",class:"py-4 px-6"},J={class:"sr-only"},K={class:"sr-only"};function Q(e,a,W,X,r,Y){const g=d("router-link"),b=d("Filter"),y=d("Col"),m=d("VTh"),k=d("toDate"),_=d("VTable"),f=d("VTPagination");return c(),p("div",null,[t("div",j,[l(g,{to:"/support/ticket",class:"btn btn-outline-primary"},{default:o(()=>[u(s(e.$t("Create Ticket")),1)]),_:1})]),t("div",B,[t("div",L,s(e.$t("Support Tickets")),1),l(b,null,{default:o(()=>[w(t("input",{"onUpdate:modelValue":a[0]||(a[0]=i=>r.filters.ticket.value=i),type:"text",class:"filter-input",placeholder:"Ticket ID"},null,512),[[T,r.filters.ticket.value]])]),_:1})]),t("div",N,[(c(),C(_,{key:r.tickets.length,"current-page":r.currentPage,"onUpdate:currentPage":a[1]||(a[1]=i=>r.currentPage=i),class:"w-full text-left text-sm text-gray-500 dark:text-gray-400",data:r.tickets,filters:r.filters,"page-size":10,"hide-sort-icons":!0,onTotalPagesChanged:a[2]||(a[2]=i=>r.totalPages=i)},{head:o(()=>[t("tr",$,[l(m,{"sort-key":"subject",scope:"col",class:"py-3 px-6"},{default:o(()=>[l(y,{text:"Subject"})]),_:1}),l(m,{"sort-key":"status",scope:"col",class:"py-3 px-6"},{default:o(()=>[l(y,{text:"Status"})]),_:1}),l(m,{"sort-key":"last_reply",scope:"col",class:"py-3 px-6"},{default:o(()=>[l(y,{text:"Last Reply"})]),_:1}),t("th",U,s(e.$t("Action")),1)])]),body:o(({rows:i})=>[r.tickets.length>0?(c(!0),p(V,{key:0},D(i,n=>(c(),p("tr",{key:n.id,class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},[t("td",z,[l(g,{to:"/support/ticket/"+n.ticket,class:"fw-bold"},{default:o(()=>[u("["+s(e.$t("Ticket"))+"#"+s(n.ticket)+"] "+s(n.subject),1)]),_:2},1032,["to"])]),t("td",A,[n.status==0?(c(),p("span",M,s(e.$t("Open")),1)):n.status==1?(c(),p("span",R,s(e.$t("Answered")),1)):n.status==2?(c(),p("span",E,s(e.$t("Customer Reply")),1)):n.status==3?(c(),p("span",I,s(e.$t("Closed")),1)):F("",!0)]),t("td",O,[l(k,{time:n.last_reply},null,8,["time"])]),t("td",q,[l(g,{to:"/support/ticket/"+n.id,class:"btn btn-primary btn-sm"},{default:o(()=>a[4]||(a[4]=[t("i",{class:"bi bi-display",style:{"margin-right":"0 !important"}},null,-1)])),_:2},1032,["to"])])]))),128)):(c(),p("tr",G,[t("td",H,s(e.$t("No results found!")),1)]))]),_:1},8,["current-page","data","filters"]))]),l(f,{currentPage:r.currentPage,"onUpdate:currentPage":a[3]||(a[3]=i=>r.currentPage=i),class:"float-right flex items-center justify-between pt-4","aria-label":"Table navigation","total-pages":r.totalPages,"max-page-links":3,"boundary-links":!0},{firstPage:o(()=>[u(s(e.$t("First")),1)]),lastPage:o(()=>[u(s(e.$t("Last")),1)]),next:o(()=>[t("span",J,s(e.$t("Next")),1),a[5]||(a[5]=t("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))]),previous:o(()=>[t("span",K,s(e.$t("Previous")),1),a[6]||(a[6]=t("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))]),_:1},8,["currentPage","total-pages"])])}const nt=P(S,[["render",Q]]);export{nt as default};
