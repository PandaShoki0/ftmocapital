import{_ as z,V as L,k as _,l as B,r as b,o as d,c as u,a as e,n as C,q as F,t as r,i as t,w as l,F as T,b as D,g as y,f as k,e as M,d as N}from"./bootstrap-249b0f62.js";import{C as q}from"./flowbite-vue-7e69f603.js";import{t as j}from"./toMoney-88a56e62.js";import{t as H}from"./toDate-734c7690.js";import{F as U}from"./Filter-3bb21f90.js";import{C as I}from"./Col-3a6cbfed.js";import{u as E}from"./market-8356724b.js";import"./_commonjsHelpers-de833af9.js";import"./dijkstra-f906a09e.js";import"./preload-helper-f61836a9.js";import"./axios-7a713374.js";const R={components:{toDate:H,toMoney:j,Filter:U,Col:I,Button:q},props:{orders:{type:Object,required:!0},fetchOrder:{type:Function,required:!0},cancelOrder:{type:Function,required:!0},loading:{type:Boolean,required:!0},refreshing:{type:Boolean,required:!0},auth:{type:Boolean,default:!0}},setup(){const n=E(),a=L(),p=a.params.symbol,o=a.params.currency,x=_("open-orders"),O=_(1),c=_(0),g=_(1),S=_(0),m=B(()=>n.market?h(n.market.precision.amount||1e-6):6),v=B(()=>n.market?h(n.market.precision.price||1e-6):6);function h(i){if(Math.floor(i)===i)return 0;const s=i.toString(),f=/^(\d+\.?\d*|\.\d+)e([\+\-]\d+)$/.exec(s);if(f){const V=(f[1].split(".")[1]||"").length+parseInt(f[2]);return Math.min(V,8)}else{const A=s.split(".")[1]||"";return Math.min(A.length,8)}}function P(i){return x.value===i}function w(i){x.value=i}return{marketStore:n,PrecisionAmount:m,PrecisionPrice:v,currency:p,pair:o,activeItem:x,currentPage:O,totalPages:c,currentPageOpen:g,totalPagesOpen:S,isActive:P,setActive:w}}},G={id:"myTab",class:"nf flex-cols -mb-px flex overflow-x-hidden bg-gray-200 dark:bg-gray-800",role:"tablist"},J={class:"overflow-x-auto"},K={class:"bg-gray-100 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},Q={class:"p-1","data-label":"Date"},W={"data-label":"TxHash",class:"text-uppercase"},X={"data-label":"Symbol",class:"text-uppercase"},Y={"data-label":"Side",class:"text-uppercase"},Z={key:0,class:"badge bg-success"},$={key:1,class:"badge bg-danger"},ee={"data-label":"Price"},te={"data-label":"Amount"},ae={"data-label":"Filled"},se={"data-label":"Status"},re={key:0,class:"badge bg-primary"},oe={key:1,class:"badge bg-warning"},le={class:"flex space-x-1"},ne={key:0,class:"bi bi-arrow-repeat",style:{"margin-right":"0 !important"}},ie={key:0,class:"bi bi-x-lg",style:{"margin-right":"0 !important"}},de={key:1},ce={colspan:"100%",class:"text-center"},ge={class:"sr-only"},ue={class:"sr-only"},pe={class:"overflow-x-auto"},ye={class:"bg-gray-100 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},me={class:"p-1","data-label":"Date"},be={"data-label":"TxHash",class:"text-uppercase"},he={"data-label":"Symbol",class:"text-uppercase"},fe={"data-label":"Side",class:"text-uppercase"},_e={key:0,class:"badge bg-success"},ke={key:1,class:"badge bg-danger"},xe={"data-label":"Price"},ve={"data-label":"Amount"},Pe={"data-label":"Filled"},Ce={"data-label":"Status"},Se={key:0,class:"badge bg-success"},we={key:1,class:"badge bg-primary"},Oe={key:2,class:"badge bg-danger"},Ae={key:1},Be={colspan:"100%",class:"text-center"},Fe={class:"sr-only"},Te={class:"sr-only"};function De(n,a,p,o,x,O){const c=b("Col"),g=b("VTh"),S=b("toDate"),m=b("to-money"),v=b("Button"),h=b("VTable"),P=b("VTPagination"),w=b("to-date");return d(),u("div",{class:"border border-gray-100 bg-white shadow dark:border-gray-700 dark:bg-gray-900",style:N(p.auth?"margin: 0 -20px;":"")},[e("ul",G,[e("li",null,[e("a",{id:"open-orders-tab",class:C(["inline-block py-2 pl-3 pr-4 text-xs font-medium",o.isActive("open-orders")?"border-gray-300 bg-white text-gray-700 dark:bg-gray-900 dark:text-gray-300":"cursor-pointer border-transparent bg-gray-200 text-gray-400 hover:border-gray-300 hover:bg-gray-300 hover:text-gray-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-gray-300"]),type:"button",role:"tab","aria-controls":"open-orders","aria-selected":"false",onClick:a[0]||(a[0]=F(i=>o.setActive("open-orders"),["prevent"]))},r(n.$t("Open Orders")),3)]),e("li",null,[e("a",{id:"closed-orders-tab",class:C(["inline-block py-2 pl-3 pr-4 text-xs font-medium",o.isActive("closed-orders")?"border-gray-300 bg-white text-gray-700 dark:bg-gray-900 dark:text-gray-300":"cursor-pointer border-transparent bg-gray-200 text-gray-400 hover:border-gray-300 hover:bg-gray-300 hover:text-gray-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-gray-300"]),type:"button",role:"tab","aria-controls":"closed-orders","aria-selected":"false",onClick:a[1]||(a[1]=F(i=>o.setActive("closed-orders"),["prevent"]))},r(n.$t("Order History")),3)])]),e("div",{id:"open-orders",class:C(["pt-3",o.isActive("open-orders")?"":"hidden"]),role:"tabpanel",style:{"min-height":"300px"}},[e("div",J,[t(h,{"current-page":o.currentPageOpen,"onUpdate:currentPage":a[2]||(a[2]=i=>o.currentPageOpen=i),class:"w-full text-left text-gray-500 dark:text-gray-400",data:p.orders.open,"page-size":10,"hide-sort-icons":!0,onTotalPagesChanged:a[3]||(a[3]=i=>o.totalPagesOpen=i)},{head:l(()=>[e("tr",K,[t(g,{"sort-key":"created_at",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Date"})]),_:1}),t(g,{"sort-key":"symbol",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Symbol"})]),_:1}),t(g,{"sort-key":"order_id",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"TxHash"})]),_:1}),t(g,{"sort-key":"side",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Side"})]),_:1}),t(g,{"sort-key":"price",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Price"})]),_:1}),t(g,{"sort-key":"amount",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Amount"})]),_:1}),t(g,{"sort-key":"filled",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Filled"})]),_:1}),t(g,{"sort-key":"status",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Status"})]),_:1}),a[8]||(a[8]=e("th",{scope:"col",class:"p-1"},null,-1))])]),body:l(({rows:i})=>[p.orders.open.length>0?(d(!0),u(T,{key:0},D(i,s=>(d(),u("tr",{key:s.id,class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},[e("td",Q,[t(S,{time:s.created_at},null,8,["time"])]),e("td",W,r(s.order_id),1),e("td",X,r(s.symbol),1),e("td",Y,[s.side=="buy"?(d(),u("span",Z,r(n.$t("Buy")),1)):(d(),u("span",$,r(n.$t("Sell")),1))]),e("td",ee,[t(m,{num:s.price,decimals:o.PrecisionAmount},null,8,["num","decimals"]),y(" "+r(s.pair),1)]),e("td",te,[t(m,{num:s.amount,decimals:o.PrecisionPrice},null,8,["num","decimals"]),y(" "+r(o.currency),1)]),e("td",ae,[t(m,{num:s.filled,decimals:o.PrecisionPrice},null,8,["num","decimals"]),y(" "+r(o.currency),1)]),e("td",se,[s.status=="open"?(d(),u("span",re,r(n.$t("Live")),1)):s.status=="filling"?(d(),u("span",oe,r(n.$t("Filling")),1)):k("",!0)]),e("td",null,[e("div",le,[s.status=="open"||s.status=="filling"?(d(),M(v,{key:0,size:"xs",color:"alternative",loading:p.refreshing,disabled:p.refreshing,onClick:f=>p.fetchOrder(s.order_id)},{default:l(()=>[p.refreshing?k("",!0):(d(),u("i",ne))]),_:2},1032,["loading","disabled","onClick"])):k("",!0),s.status=="open"?(d(),M(v,{key:1,size:"xs",color:"red",loading:p.loading,disabled:p.loading,onClick:f=>p.cancelOrder(s.order_id)},{default:l(()=>[p.loading?k("",!0):(d(),u("i",ie))]),_:2},1032,["loading","disabled","onClick"])):k("",!0)])])]))),128)):(d(),u("tr",de,[e("td",ce,[a[9]||(a[9]=e("div",{class:"flex w-full justify-center"},[e("img",{height:"128",width:"128",src:"https://assets.staticimg.com/pro/2.0.4/images/empty.svg",alt:""})],-1)),y(" "+r(n.$t("No Data Found")),1)])]))]),_:1},8,["current-page","data"])]),t(P,{currentPage:o.currentPageOpen,"onUpdate:currentPage":a[4]||(a[4]=i=>o.currentPageOpen=i),class:"flex items-center justify-between p-3","aria-label":"Table navigation","total-pages":o.totalPagesOpen,"max-page-links":3,"boundary-links":!0},{firstPage:l(()=>[y(r(n.$t("First")),1)]),lastPage:l(()=>[y(r(n.$t("Last")),1)]),next:l(()=>[e("span",ge,r(n.$t("Next")),1),a[10]||(a[10]=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))]),previous:l(()=>[e("span",ue,r(n.$t("Previous")),1),a[11]||(a[11]=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))]),_:1},8,["currentPage","total-pages"])],2),e("div",{id:"closed-orders",class:C(["pt-3",o.isActive("closed-orders")?"":"hidden"]),role:"tabpanel",style:{"min-height":"300px"}},[e("div",pe,[t(h,{"current-page":o.currentPage,"onUpdate:currentPage":a[5]||(a[5]=i=>o.currentPage=i),class:"w-full text-left text-gray-500 dark:text-gray-400",data:p.orders.closed,"page-size":10,"hide-sort-icons":!0,onTotalPagesChanged:a[6]||(a[6]=i=>o.totalPages=i)},{head:l(()=>[e("tr",ye,[t(g,{"sort-key":"created_at",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Date"})]),_:1}),t(g,{"sort-key":"symbol",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Symbol"})]),_:1}),t(g,{"sort-key":"order_id",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"TxHash"})]),_:1}),t(g,{"sort-key":"side",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Side"})]),_:1}),t(g,{"sort-key":"price",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Price"})]),_:1}),t(g,{"sort-key":"amount",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Amount"})]),_:1}),t(g,{"sort-key":"filled",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Filled"})]),_:1}),t(g,{"sort-key":"status",scope:"col",class:"p-1"},{default:l(()=>[t(c,{text:"Status"})]),_:1})])]),body:l(({rows:i})=>[p.orders.closed.length>0?(d(!0),u(T,{key:0},D(i,s=>(d(),u("tr",{key:s.id,class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},[e("td",me,[t(w,{time:s.created_at},null,8,["time"])]),e("td",be,r(s.order_id),1),e("td",he,r(s.symbol),1),e("td",fe,[s.side=="buy"?(d(),u("span",_e,r(n.$t("Buy")),1)):(d(),u("span",ke,r(n.$t("Sell")),1))]),e("td",xe,[t(m,{num:s.price,decimals:o.PrecisionPrice},null,8,["num","decimals"]),y(" "+r(s.pair),1)]),e("td",ve,[t(m,{num:s.amount,decimals:o.PrecisionAmount},null,8,["num","decimals"]),y(" "+r(o.currency),1)]),e("td",Pe,[t(m,{num:s.filled,decimals:o.PrecisionAmount},null,8,["num","decimals"]),y(" "+r(o.currency),1)]),e("td",Ce,[s.status=="closed"?(d(),u("span",Se,r(n.$t("Filled")),1)):s.status=="open"?(d(),u("span",we,r(n.$t("Live")),1)):(d(),u("span",Oe,r(n.$t("Canceled")),1))])]))),128)):(d(),u("tr",Ae,[e("td",Be,[a[12]||(a[12]=e("div",{class:"flex w-full justify-center"},[e("img",{height:"128",width:"128",src:"https://assets.staticimg.com/pro/2.0.4/images/empty.svg",alt:""})],-1)),y(" "+r(n.$t("No Data Found")),1)])]))]),_:1},8,["current-page","data"])]),t(P,{currentPage:o.currentPage,"onUpdate:currentPage":a[7]||(a[7]=i=>o.currentPage=i),class:"flex items-center justify-between p-3","aria-label":"Table navigation","total-pages":o.totalPages,"max-page-links":3,"boundary-links":!0},{firstPage:l(()=>[y(r(n.$t("First")),1)]),lastPage:l(()=>[y(r(n.$t("Last")),1)]),next:l(()=>[e("span",Fe,r(n.$t("Next")),1),a[13]||(a[13]=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))]),previous:l(()=>[e("span",Te,r(n.$t("Previous")),1),a[14]||(a[14]=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))]),_:1},8,["currentPage","total-pages"])],2)],4)}const Re=z(R,[["render",De]]);export{Re as default};
