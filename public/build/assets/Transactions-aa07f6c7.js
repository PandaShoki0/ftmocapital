import{t as v}from"./toMoney-88a56e62.js";import{t as P}from"./toDate-734c7690.js";import{F as T}from"./Filter-3bb21f90.js";import{C}from"./Col-3a6cbfed.js";import{u as D}from"./log-8767b75b.js";import{_ as V,r as i,o as u,c as m,a as e,t as a,i as r,w as l,h as F,U as S,e as x,F as B,b as L,n as M,g as p}from"./bootstrap-249b0f62.js";import"./_commonjsHelpers-de833af9.js";import"./dijkstra-f906a09e.js";import"./preload-helper-f61836a9.js";import"./axios-7a713374.js";const N={components:{toDate:P,toMoney:v,Filter:T,Col:C},setup(){return{logStore:D()}},data(){return{cur_rate,cur_symbol,filters:{trx:{value:"",keys:["trx"]}},currentPage:1,totalPages:0}},created(){this.logStore.logs.transaction.length==0&&this.logStore.fetch("transaction")}},z={class:"mb-4 items-center justify-between xs:block xs:space-y-5 sm:flex sm:space-y-0"},A={class:"font-medium"},U={class:"card relative overflow-x-auto"},j={class:"bg-gray-100 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},I={"data-label":"Date",class:"py-4 px-6"},w={key:1},E={"data-label":"trx",class:"py-4 px-6"},q={"data-label":"Fees",class:"py-4 px-6"},G={"data-label":"After Charge",class:"py-4 px-6"},H={key:1,scope:"row",class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},J={colspan:"100%",class:"py-4 px-6"},K={class:"sr-only"},O={class:"sr-only"};function Q(c,o,R,y,s,W){const f=i("Filter"),d=i("Col"),g=i("VTh"),b=i("toDate"),_=i("toMoney"),h=i("VTable"),k=i("VTPagination");return u(),m("div",null,[e("div",z,[e("div",A,a(c.$t("Transactions Log")),1),r(f,null,{default:l(()=>[F(e("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>s.filters.trx.value=n),type:"text",class:"filter-input",placeholder:"Transaction ID"},null,512),[[S,s.filters.trx.value]])]),_:1})]),e("div",U,[(u(),x(h,{key:y.logStore.logs.transaction.length,"current-page":s.currentPage,"onUpdate:currentPage":o[1]||(o[1]=n=>s.currentPage=n),class:"w-full text-left text-sm text-gray-500 dark:text-gray-400",data:y.logStore.logs.transaction,filters:s.filters,"page-size":10,"hide-sort-icons":!0,onTotalPagesChanged:o[2]||(o[2]=n=>s.totalPages=n)},{head:l(()=>[e("tr",j,[r(g,{"sort-key":"created_at",scope:"col",class:"py-3 px-6"},{default:l(()=>[r(d,{text:"Date"})]),_:1}),r(g,{"sort-key":"trx",scope:"col",class:"py-3 px-6"},{default:l(()=>[r(d,{text:"Transaction ID"})]),_:1}),r(g,{"sort-key":"amount",scope:"col",class:"py-3 px-6"},{default:l(()=>[r(d,{text:"Amount"})]),_:1}),r(g,{"sort-key":"charge",scope:"col",class:"py-3 px-6"},{default:l(()=>[r(d,{text:"Fees"})]),_:1}),r(g,{"sort-key":"post_balance",scope:"col",class:"py-3 px-6"},{default:l(()=>[r(d,{text:"Post Balance"})]),_:1}),e("th",null,a(c.$t("Details")),1)])]),body:l(({rows:n})=>[y.logStore.logs.transaction.length>0?(u(!0),m(B,{key:0},L(n,t=>(u(),m("tr",{key:t.id,class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},[e("td",I,[t.created_at?(u(),x(b,{key:0,time:t.created_at},null,8,["time"])):(u(),m("span",w,"N/A"))]),e("td",E,a(t.trx),1),e("td",{"data-label":"Amount",class:M(["py-4 px-6","budget "+(t.trx_type=="+"?"text-success":"text-danger")])},[p(a(t.trx_type=="+"?"+":"-")+" ",1),r(_,{num:t.currency?t.amount:t.amount*s.cur_rate,decimals:"2"},null,8,["num"]),p(" "+a(t.currency?t.currency:s.cur_symbol),1)],2),e("td",q,[r(_,{num:t.currency?t.charge:t.charge*s.cur_rate,decimals:"2"},null,8,["num"]),p(" "+a(t.currency?t.currency:s.cur_symbol),1)]),e("td",G,[r(_,{num:t.currency?t.post_balance:t.post_balance*s.cur_rate,decimals:"2"},null,8,["num"]),p(" "+a(t.currency?t.currency:s.cur_symbol),1)]),e("td",null,a(t.details),1)]))),128)):(u(),m("tr",H,[e("td",J,a(c.$t("No results found!")),1)]))]),_:1},8,["current-page","data","filters"]))]),r(k,{currentPage:s.currentPage,"onUpdate:currentPage":o[3]||(o[3]=n=>s.currentPage=n),class:"float-right flex items-center justify-between pt-4","total-pages":s.totalPages,"boundary-links":!0,"hide-single-page":!0,"max-page-links":3},{firstPage:l(()=>[p(a(c.$t("First")),1)]),lastPage:l(()=>[p(a(c.$t("Last")),1)]),next:l(()=>[e("span",K,a(c.$t("Next")),1),o[4]||(o[4]=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))]),previous:l(()=>[e("span",O,a(c.$t("Previous")),1),o[5]||(o[5]=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))]),_:1},8,["currentPage","total-pages"])])}const lt=V(N,[["render",Q]]);export{lt as default};
