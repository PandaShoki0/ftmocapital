import{Q,_ as $,r as m,m as N,o as n,c as i,a as e,h as I,t as r,F as S,e as x,w as c,q as B,n as C,i as u,g as b,b as P,f as p,U,T as V,y as J,x as Z}from"./bootstrap-249b0f62.js";import{u as L}from"./user-5d70a0d6.js";import{t as z}from"./toMoney-88a56e62.js";import{t as ee}from"./toDate-734c7690.js";import{N as O,Y as R,X as G,C as K,K as E}from"./flowbite-vue-7e69f603.js";import{F as te}from"./Filter-3bb21f90.js";import{C as oe}from"./Col-3a6cbfed.js";import"./_commonjsHelpers-de833af9.js";import"./dijkstra-f906a09e.js";import"./preload-helper-f61836a9.js";import"./axios-7a713374.js";const se=Q("forex",{state:()=>({account:null,forex_log:0,forex_logs:[],forex_investment:[],investment_logs:[],investment_logs_amount:null,investment_logs_profit:null,investment:null,wallets:[],wallet:[],isShowModal:{deposit:!1,withdraw:!1,selectInvestment:!1},selected_inv:null,loading:!1,depositing:!1,withdrawing:!1}),actions:{async fetch(){await axios.post("/user/fetch/forex").then(o=>{o.message=="Verify your identify first!"&&(window.location.href="/user/kyc"),o.error!=null&&$toast.error(o.error),this.account=o.account,this.forex_logs=o.forex_logs,this.forex_log=o.forex_log,this.forex_investment=o.forex_investment,this.investment_logs=o.investment_logs,this.investment_logs_amount=o.investment_logs_amount,this.investment_logs_profit=o.investment_logs_profit,this.investment=o.investment,this.wallets=o.wallets,this.wallet=o.wallet})},closeModal(o){o=="deposit"?this.isShowModal.deposit=!1:o=="withdraw"?this.isShowModal.withdraw=!1:o=="selectInvestment"&&(this.isShowModal.selectInvestment=!1)},showModal(o){o=="deposit"?this.isShowModal.deposit=!0:o=="withdraw"?this.isShowModal.withdraw=!0:o=="selectInvestment"&&(this.isShowModal.selectInvestment=!0)},async Deposit(o,s){this.depositing=!0,axios.post("/user/forex/deposit",{symbol:o,amount:s}).then(t=>{$toast[t.type](t.message)}).catch(t=>{$toast.error(t.response.data.message)}).finally(()=>{this.depositing=!1,this.fetch(),this.closeModal("deposit")})},async Withdraw(o,s){this.withdrawing=!0,await axios.post("/user/forex/withdraw",{symbol:o,amount:s}).then(t=>{$toast[t.type](t.message)}).catch(t=>{$toast.error(t.response.data.message)}).finally(()=>{this.withdrawing=!1,this.fetch(),this.closeModal("withdraw")})},selectInvestment(o){this.selected_inv=o},async submitInvestment(o,s){this.loading=!0,await axios.post("/user/forex/store",{investment_id:this.selected_inv.id,symbol:o,amount:s}).then(t=>{$toast[t.type](t.message),this.forex_logs=t.meta}).catch(t=>{console.log(t),$toast.error(t.response.data.message)}).finally(()=>{this.loading=!1,this.fetch()})},async createAccount(){await axios.post("/user/forex/create").then(o=>{$toast[o.type](o.message),this.fetch()}).catch(o=>{$toast.error(o.response.data.message)})},async fetchWallet(){await axios.post("/user/fetch/wallet",{type:"funding",symbol:"USDT"}).then(o=>{this.wallet=o.balance}).catch(o=>{$toast.error(o.response.data.message)})},async createWallet(){await axios.post("/user/wallet/store",{type:"funding",symbol:"USDT"}).then(o=>{this.fetchWallet(),$toast[o.type](o.message)}).catch(o=>{$toast.error(o.response.data.message)}).finally(()=>{this.loading=!1})}},persist:!0});const re={props:{userStore:{type:Object,required:!0},forexStore:{type:Object,required:!0}}},ne={class:"card"},le={class:"flex flex-col space-y-5 p-5 text-center"},ae={class:"flex justify-center"},ie={class:"profile-icon"},ce={class:"rounded-full shadow-lg",height:"96",width:"96"},de={class:"text-center text-xl font-medium text-gray-900 dark:text-white"},ue={type:"button",class:"btn btn-outline-warning"},me={key:1},ye={class:"rounded-b border-t-4 border-red-500 bg-red-100 px-4 py-3 text-red-900 shadow-md",role:"alert"},fe={class:"flex"},_e={class:"text-left"},be={class:"font-bold"},ge={class:"text-sm"},xe={type:"submit",class:"btn btn-warning"},he={type:"submit",class:"btn btn-success"};function ve(o,s,t,a,d,v){const y=m("router-link"),f=N("lazy");return n(),i("div",ne,[e("div",le,[e("div",ae,[e("span",ie,[I(e("img",ce,null,512),[[f,t.userStore.user&&t.userStore.user.profile_photo_path?"/assets/images/profile/"+t.userStore.user.profile_photo_path:"/assets/images/profile/default.png"]])])]),e("div",de,r(t.userStore.user?t.userStore.user.firstname:""),1),t.forexStore.account!=null?(n(),i(S,{key:0},[(n(),i("div",{key:t.forexStore.account.length},[t.forexStore.account.status==1?(n(),x(y,{key:0,to:"/forex/trade"},{default:c(()=>[e("button",ue,r(o.$t("Launch Forex App")),1)]),_:1})):(n(),i("div",me,[e("div",ye,[e("div",fe,[s[4]||(s[4]=e("div",{class:"py-1"},[e("svg",{class:"mr-4 h-6 w-6 fill-current text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})])],-1)),e("div",_e,[e("p",be,r(o.$t("Forex App Locked")),1),e("p",ge,r(o.$t("Deposit Firstly")),1)])])])]))])),t.forexStore.wallet!=null?(n(),i("div",{key:t.forexStore.wallet.balance,class:"flex justify-between gap-5"},[e("button",{type:"button",class:"btn btn-outline-success w-1/2",onClick:s[0]||(s[0]=l=>t.forexStore.showModal("deposit"))},r(o.$t("Deposit")),1),e("button",{type:"button",class:"btn btn-outline-danger w-1/2 justify-center",onClick:s[1]||(s[1]=l=>t.forexStore.showModal("withdraw"))},r(o.$t("Withdraw")),1)])):(n(),i("form",{key:t.forexStore.wallet,class:"my-1",onSubmit:s[2]||(s[2]=B(l=>t.forexStore.createWallet(),["prevent"]))},[e("button",xe,r(o.$t("Create Wallet")),1)],32))],64)):(n(),i("a",{key:1,onClick:s[3]||(s[3]=l=>t.forexStore.createAccount())},[e("button",he,r(o.$t("Create Forex Account")),1)]))])])}const pe=$(re,[["render",ve],["__scopeId","data-v-b31606d1"]]);const we={components:{toMoney:z},props:{icon:{type:String,required:!0},amountKey:{type:String,required:!0},titleText:{type:String,required:!0},amount:{type:Number,required:!0},symbol:{type:String,required:!0}}},Se={class:"card bg-white text-center dark:bg-gray-800"},ke={class:"card-body"},$e={class:"icon-background bg-primary mb-1 dark:bg-yellow-400"},Me={class:"font-medium text-black dark:text-white"},Ce={class:"card-text text-gray-500 dark:text-gray-400"};function Pe(o,s,t,a,d,v){const y=m("toMoney");return n(),i("div",Se,[e("div",ke,[e("div",$e,[e("i",{class:C(t.icon)},null,2)]),e("h2",Me,[u(y,{num:t.amount,decimals:"2"},null,8,["num"]),b(" "+r(t.symbol),1)]),e("p",Ce,r(t.titleText),1)])])}const De=$(we,[["render",Pe],["__scopeId","data-v-0eae01e4"]]),Ie={components:{SummaryCard:De},props:{forexAccount:{type:Object,required:!0},accountBalance:{type:Number,required:!0},accountProfit:{type:Number,required:!0},totalInvestment:{type:Number,required:!0},investmentsProfit:{type:Number,required:!0},currencySymbol:{type:String,required:!0},forexLog:{type:Number,required:!1,default:0},investmentLogsAmount:{type:Number,required:!1,default:0},investmentLogsProfit:{type:Number,required:!1,default:0}}};function je(o,s,t,a,d,v){const y=m("summary-card");return t.forexAccount!=null?(n(),i(S,{key:0},[u(y,{icon:"bi-briefcase","amount-key":"accountBalance","title-text":"Forex Account Balance",amount:t.accountBalance,symbol:t.currencySymbol},null,8,["amount","symbol"]),u(y,{icon:"bi-diagram-3","amount-key":"accountProfit","title-text":"Forex Account Profit",amount:t.accountProfit,symbol:t.currencySymbol},null,8,["amount","symbol"]),u(y,{icon:"bi-node-plus","amount-key":"totalInvestment","title-text":"Total Investment",amount:t.totalInvestment,symbol:t.currencySymbol},null,8,["amount","symbol"]),u(y,{icon:"bi-node-plus-fill","amount-key":"investmentsProfit","title-text":"Investments Profit",amount:t.investmentsProfit,symbol:t.currencySymbol},null,8,["amount","symbol"])],64)):(n(),i(S,{key:1},P(4,f=>e("div",{key:f,class:"card"},s[0]||(s[0]=[e("div",{class:"card-body"},null,-1)]))),64))}const qe=$(Ie,[["render",je]]);const We={components:{toDate:ee,toMoney:z},props:{forexLogs:{type:Array,default:()=>[]},userCurrencyRate:{type:[Number,String],default:1},userCurrencySymbol:{type:String,default:"USD"}}},Fe={class:"card card-transaction"},ze={class:"card-header"},Ae={class:"card-title"},Be={key:0,class:"overflow-y-auto",style:{"max-height":"280px"}},Te={class:"flex items-center"},Ne={class:"transaction-percentage"},Ue={class:"fw-bolder"},Ve={key:0,class:"badge bg-warning"},Oe={key:1,class:"badge bg-success"},Re={key:2,class:"badge bg-danger"},Ge={key:3,class:"badge bg-warning"},Ke={key:1,class:"mb-5 text-center"};function Ee(o,s,t,a,d,v){const y=m("toDate"),f=m("toMoney");return n(),i("div",Fe,[e("div",ze,[e("h4",Ae,r(o.$t("Forex Transactions")),1)]),t.forexLogs&&t.forexLogs.length?(n(),i("div",Be,[(n(!0),i(S,null,P(t.forexLogs,(l,w)=>(n(),i("div",{key:w,class:C(["transaction-item flex justify-between rounded-t-lg border-gray-200 px-4 py-2 dark:border-gray-600",[w!==t.forexLogs.length-1?"border-b":""]])},[e("div",Te,[e("div",{class:C(["icon-bg bg-dark mr-2 rounded",{"text-success":l.type===1,"text-danger":l.type===2,"text-warning":l.type===3}])},[e("i",{class:C(["bi",{"bi-journal-arrow-up":l.type===1,"bi-journal-arrow-down":l.type===2,"bi-briefcase":l.type===3}])},null,2)],2),e("div",Ne,[e("span",{class:C([{"text-success":l.type===1,"text-danger":l.type===2,"text-warning":l.type===3},"fw-bold"])},r(l.type===1?o.$t("Forex Deposit"):l.type===2?o.$t("Forex Withdraw"):o.$t("Forex Investment")),3),e("p",null,[e("small",null,[u(y,{time:l.created_at},null,8,["time"])])])])]),e("div",Ue,[l.type!==3&&l.status===0||l.type===3&&l.status!==1?(n(),i("span",Ve,r(o.$t("Pending")),1)):l.type===1&&l.status!==0?(n(),i("span",Oe,[s[0]||(s[0]=b(" -")),u(f,{num:l.amount*t.userCurrencyRate,decimals:2},null,8,["num"]),b(" "+r(t.userCurrencySymbol),1)])):l.type===2&&l.status!==0?(n(),i("span",Re,[s[1]||(s[1]=b(" +")),u(f,{num:l.amount*t.userCurrencyRate,decimals:2},null,8,["num"]),b(" "+r(t.userCurrencySymbol),1)])):l.type===3&&l.status===1?(n(),i("span",Ge,[s[2]||(s[2]=b(" +")),u(f,{num:l.profit*t.userCurrencyRate,decimals:2},null,8,["num"]),b(" "+r(t.userCurrencySymbol),1)])):p("",!0)])],2))),128))])):(n(),i("div",Ke,[s[3]||(s[3]=e("div",{class:"flex justify-center"},[e("img",{height:"128",width:"128",src:"https://assets.staticimg.com/pro/2.0.4/images/empty.svg",alt:""})],-1)),b(" "+r(o.$t("No Data Found")),1)]))])}const He=$(We,[["render",Ee],["__scopeId","data-v-6c51fc8f"]]),Xe={components:{Dropdown:O,ListGroup:R,ListGroupItem:G,Button:K,toMoney:z},props:{forexStore:{type:Object,required:!0}},data(){return{amount:0,wal:null}},methods:{selectWallet(o){this.wal=o},async submitInvestment(){await this.forexStore.submitInvestment(this.wal.symbol,this.amount)}}},Ye={class:"card mt-5"},Qe={class:"card-body"},Je={class:"card-title"},Ze={class:"grid gap-5 xs:grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},Le={ref:"wallett",class:"btn btn-outline-primary",type:"button"},et={class:"flex items-center border-b py-3 px-4 text-sm text-gray-900 dark:text-white"},tt=["onClick"],ot={class:"mr-3"},st={class:"flex w-full"},rt=["min","max","step"];function nt(o,s,t,a,d,v){var g,_,k,D,j,q,W,F;const y=m("toMoney"),f=m("list-group-item"),l=m("list-group"),w=m("dropdown"),h=m("Button");return n(),i("div",Ye,[e("div",Qe,[e("form",{onSubmit:s[2]||(s[2]=B(M=>v.submitInvestment(),["prevent"]))},[e("div",Je,r(o.$t("Forex Investments")),1),e("div",Ze,[u(w,{text:"button"},{trigger:c(()=>[e("button",Le,[s[3]||(s[3]=e("i",{class:"bi bi-sort-down-alt mr-2"},null,-1)),d.wal!=null?(n(),x(y,{key:0,num:d.wal.balance,decimals:"2"},null,8,["num"])):p("",!0),b(" "+r(d.wal?d.wal.symbol:o.$t("Select Wallet")),1)],512)]),default:c(()=>[u(l,{class:C("text-start")},{default:c(()=>[e("div",et,[s[4]||(s[4]=e("i",{class:"bi bi-sort-down-alt mr-2"},null,-1)),b(" "+r(o.$t("Select Wallet")),1)]),(n(!0),i(S,null,P(t.forexStore.wallets,(M,A)=>(n(),x(f,{key:A,class:"items-between inline-flex w-full cursor-pointer border-b border-gray-200 px-4 py-2 hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700 focus:outline-none focus:ring-2 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500"},{default:c(()=>[e("a",{class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",onClick:T=>v.selectWallet(M)},[e("span",ot,[u(y,{num:M.balance,decimals:"2"},null,8,["num"])]),e("span",null,r(M.symbol),1)],8,tt)]),_:2},1024))),128))]),_:1})]),_:1}),e("div",st,[I((n(),i("input",{key:(_=(g=t.forexStore)==null?void 0:g.selected_inv)==null?void 0:_.min,"onUpdate:modelValue":s[0]||(s[0]=M=>d.amount=M),type:"number",class:"block min-w-0 flex-1 rounded-none rounded-l-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 placeholder-red-500 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",required:"",min:((D=(k=t.forexStore)==null?void 0:k.selected_inv)==null?void 0:D.min)??1,max:((q=(j=t.forexStore)==null?void 0:j.selected_inv)==null?void 0:q.max)??1e6,step:((F=(W=t.forexStore)==null?void 0:W.selected_inv)==null?void 0:F.min)??1,placeholder:"Amount"},null,8,rt)),[[U,d.amount]]),e("span",{ref:"selectedWallet",class:"inline-flex items-center rounded-r-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400"},r(d.wal?d.wal.symbol:"$"),513)]),u(h,{size:"sm",class:"flex w-full items-center justify-between",color:"purple",type:"button",onClick:s[1]||(s[1]=M=>t.forexStore.showModal("selectInvestment"))},{default:c(()=>[b(r(t.forexStore.selected_inv?t.forexStore.selected_inv.title:o.$t("Select Plan")),1)]),_:1}),u(h,{size:"sm",class:"flex w-full items-center justify-between",color:"green",loading:t.forexStore.loading,disabled:t.forexStore.loading},{default:c(()=>[s[5]||(s[5]=e("i",{class:"bi bi-caret-right"},null,-1)),e("span",null,r(o.$t("Start Investment")),1)]),_:1},8,["loading","disabled"])])],32)])])}const lt=$(Xe,[["render",nt]]),at={name:"InvestmentLogs",components:{Filter:te,Col:oe},props:{forexStore:{type:Object,required:!0},userStore:{type:Object,required:!0}},data(){return{currentPage:1,totalPages:0}}},it={class:"card relative my-5 overflow-x-auto"},ct={class:"bg-gray-100 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},dt={"data-label":"Plan",class:"text-uppercase py-3 px-6"},ut={class:"py-3 px-6","data-label":"Amount"},mt={"data-label":"Profit",class:"py-3 px-6"},yt={key:0,class:"text-success"},ft={key:1,class:"text-danger"},_t={key:2},bt={key:3,class:"badge bg-warning"},gt={class:"py-3 px-6","data-label":"Duration"},xt={class:"fw-bold"},ht={class:"fw-bold"},vt={class:"py-3 px-6","data-label":"Status"},pt={key:0,class:"badge bg-primary"},wt={key:1,class:"badge bg-success"},St={key:1,scope:"row",class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},kt={colspan:"100%",class:"py-4 px-6"},$t={class:"sr-only"},Mt={class:"sr-only"};function Ct(o,s,t,a,d,v){const y=m("Col"),f=m("VTh"),l=m("VTable"),w=m("VTPagination");return n(),i(S,null,[e("div",it,[(n(),x(l,{key:t.forexStore.investment_logs.length,"current-page":d.currentPage,"onUpdate:currentPage":s[0]||(s[0]=h=>d.currentPage=h),class:"w-full text-left text-sm text-gray-500 dark:text-gray-400",data:t.forexStore.investment_logs,"page-size":5,"hide-sort-icons":!0,onTotalPagesChanged:s[1]||(s[1]=h=>d.totalPages=h)},{head:c(()=>[e("tr",ct,[u(f,{"sort-key":"investment_id",scope:"col",class:"py-3 px-6"},{default:c(()=>[u(y,{text:"Plan"})]),_:1}),u(f,{"sort-key":"amount",scope:"col",class:"py-3 px-6"},{default:c(()=>[u(y,{text:"Amount"})]),_:1}),u(f,{"sort-key":"profit",scope:"col",class:"py-3 px-6"},{default:c(()=>[u(y,{text:"Profit"})]),_:1}),u(f,{"sort-key":"duration",scope:"col",class:"py-3 px-6"},{default:c(()=>[u(y,{text:"Duration"})]),_:1}),u(f,{"sort-key":"status",scope:"col",class:"py-3 px-6"},{default:c(()=>[u(y,{text:"Status"})]),_:1})])]),body:c(({rows:h})=>[t.forexStore.investment_logs.length>0?(n(!0),i(S,{key:0},P(h,g=>{var _,k;return n(),i("tr",{key:g.id,class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},[e("td",dt,r(g.investment.title),1),e("td",ut,r(g.amount*(((k=(_=t.userStore)==null?void 0:_.currency)==null?void 0:k.rate)??1))+" "+r(t.userStore.currency?t.userStore.currency.symbol:"USD"),1),e("td",mt,[g.result==1?(n(),i("span",yt," + "+r(g.profit*t.userStore.currency?t.userStore.currency.rate:1)+" "+r(t.userStore.currency?t.userStore.currency.symbol:"USD"),1)):g.result==2?(n(),i("span",ft," - "+r(g.profit*t.userStore.currency?t.userStore.currency.rate:1)+" "+r(t.userStore.currency?t.userStore.currency.symbol:"USD"),1)):g.result==3?(n(),i("span",_t,r(g.profit*t.userStore.currency?t.userStore.currency.rate:1)+" "+r(t.userStore.currency?t.userStore.currency.symbol:"USD"),1)):(n(),i("span",bt,r(o.$t("Pending")),1))]),e("td",gt,[e("div",null,[b(r(o.$t("Start"))+": ",1),e("span",xt,r(g.start_date),1)]),e("div",null,[b(r(o.$t("End"))+": ",1),e("span",ht,r(g.end_date),1)])]),e("td",vt,[g.status!==1?(n(),i("span",pt,r(o.$t("Running")),1)):(n(),i("span",wt,r(o.$t("Complete")),1))])])}),128)):(n(),i("tr",St,[e("td",kt,r(o.$t("No results found!")),1)]))]),_:1},8,["current-page","data"]))]),u(w,{currentPage:d.currentPage,"onUpdate:currentPage":s[2]||(s[2]=h=>d.currentPage=h),"aria-label":"Table navigation","total-pages":d.totalPages,"boundary-links":!0,"max-page-links":3,class:"flex items-center justify-between pt-4"},{firstPage:c(()=>[b(r(o.$t("First")),1)]),lastPage:c(()=>[b(r(o.$t("Last")),1)]),next:c(()=>[e("span",$t,r(o.$t("Next")),1),s[3]||(s[3]=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))]),previous:c(()=>[e("span",Mt,r(o.$t("Previous")),1),s[4]||(s[4]=e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))]),_:1},8,["currentPage","total-pages"])],64)}const Pt=$(at,[["render",Ct]]),Dt={props:{forexSignals:{type:Object,required:!0}}},It={key:0,class:"card max-w-xs"},jt={class:"card-body"},qt={class:"card-title"},Wt={class:"data-doc-item data-doc-item-lg mx-auto my-1"},Ft={class:"data-doc-image"},zt={class:"img-fluid img-thumbnail"},At={class:"data-doc-actions"},Bt=["href"];function Tt(o,s,t,a,d,v){const y=N("lazy");return n(!0),i(S,null,P(t.forexSignals,(f,l)=>(n(),i(S,{key:l},[f!=null?(n(),i("div",It,[e("div",jt,[e("span",qt,r(o.$t("Signal"))+" 1",1),e("div",Wt,[e("div",Ft,[I(e("img",zt,null,512),[[y,"/assets/images/signal/"+f.image]])]),e("ul",At,[e("li",null,[e("a",{href:"/assets/images/signal/"+f.image,target:"_blank"},s[0]||(s[0]=[e("i",{class:"bi bi-cloud-download"},null,-1)]),8,Bt)])])])])])):p("",!0)],64))),128)}const Nt=$(Dt,[["render",Tt]]),Ut={components:{Modal:E,Dropdown:O,ListGroup:R,ListGroupItem:G,Button:K,toMoney:z},props:{forexStore:{type:Object,required:!0}},data(){return{wal:null,amount:0}},methods:{async Deposit(){await this.forexStore.Deposit(this.wal.symbol,this.amount),this.wal=null},selectWallet(o){this.wal=o}}},Vt={class:"flex items-center text-lg"},Ot={class:"mb-2"},Rt={for:""},Gt={class:"btn btn-outline-primary",type:"button"},Kt={class:"flex items-center border-b py-3 px-4 text-sm text-gray-900 dark:text-white"},Et=["onClick"],Ht={for:""},Xt={class:"input-group mb-1 w-auto"},Yt={class:"flex justify-end space-x-2"};function Qt(o,s,t,a,d,v){const y=m("toMoney"),f=m("list-group-item"),l=m("list-group"),w=m("dropdown"),h=m("Button"),g=m("Modal");return n(),i("form",{onSubmit:s[3]||(s[3]=B(_=>v.Deposit(),["prevent"]))},[u(V,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:c(()=>[t.forexStore.isShowModal.deposit?(n(),x(g,{key:0,size:"lg",onClose:s[2]||(s[2]=_=>t.forexStore.closeModal("deposit"))},{header:c(()=>[e("div",Vt,r(o.$t("Forex Deposit")),1)]),body:c(()=>[e("div",Ot,[e("div",Rt,r(o.$t("From Wallet")),1),t.forexStore.wallets!=null?(n(),x(w,{key:0,text:"button"},{trigger:c(()=>[e("button",Gt,[s[4]||(s[4]=e("i",{class:"bi bi-sort-down-alt mr-2"},null,-1)),d.wal!=null?(n(),x(y,{key:0,num:d.wal.balance,decimals:"2"},null,8,["num"])):p("",!0),b(" "+r(d.wal?d.wal.symbol:"Select Wallet"),1)])]),default:c(()=>[u(l,{class:C("text-start")},{default:c(()=>[e("div",Kt,[s[5]||(s[5]=e("i",{class:"bi bi-sort-down-alt mr-2"},null,-1)),b(" "+r(o.$t("Select Wallet")),1)]),(n(!0),i(S,null,P(t.forexStore.wallets,(_,k)=>(n(),x(f,{key:k,class:"items-between inline-flex w-full cursor-pointer border-b border-gray-200 px-4 py-2 hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700 focus:outline-none focus:ring-2 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500"},{default:c(()=>[e("a",{class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",onClick:D=>v.selectWallet(_)},[(n(),i("span",{key:_.balance,class:"mr-3"},[u(y,{num:_.balance,decimals:"2"},null,8,["num"])])),e("span",null,r(_.symbol),1)],8,Et)]),_:2},1024))),128))]),_:1})]),_:1})):p("",!0)]),e("div",null,[e("label",Ht,r(o.$t("Amount")),1),e("div",Xt,[I(e("input",{"onUpdate:modelValue":s[0]||(s[0]=_=>d.amount=_),type:"number",required:"",min:"0.01",step:"0.01",placeholder:"Amount"},null,512),[[U,d.amount]]),e("span",null,r(d.wal?d.wal.symbol:""),1)])])]),footer:c(()=>[e("div",Yt,[u(h,{size:"sm",class:"flex items-center justify-between",color:"green",loading:t.forexStore.depositing,disabled:t.forexStore.depositing},{default:c(()=>[e("span",null,r(o.$t("Deposit")),1)]),_:1},8,["loading","disabled"]),e("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[1]||(s[1]=_=>t.forexStore.closeModal("deposit"))},r(o.$t("Close")),1)])]),_:1})):p("",!0)]),_:1})],32)}const Jt=$(Ut,[["render",Qt]]),Zt={components:{Modal:E,Dropdown:O,ListGroup:R,ListGroupItem:G,Button:K,toMoney:z},props:{forexStore:{type:Object,required:!0},userStore:{type:Object,required:!0}},emits:["select-withdraw-wallet","withdraw-submit"],data(){return{wal:null,amount:0}},methods:{async withdraw(){await this.forexStore.Withdraw(this.wal.symbol,this.amount),this.wal=null},selectWallet(o){this.wal=o}}},Lt={class:"flex items-center text-lg"},eo={class:"mb-2 flex justify-between"},to={for:""},oo={class:"btn btn-outline-primary",type:"button"},so={class:"flex items-center border-b py-3 px-4 text-sm text-gray-900 dark:text-white"},ro=["onClick"],no={for:""},lo={class:"input-group mb-1 w-auto"},ao=["value"],io={for:""},co={class:"input-group mb-1 w-auto"},uo={class:"flex justify-end space-x-2"};function mo(o,s,t,a,d,v){const y=m("toMoney"),f=m("list-group-item"),l=m("list-group"),w=m("dropdown"),h=m("Button"),g=m("Modal");return n(),i("form",{onSubmit:s[3]||(s[3]=B(_=>v.withdraw(),["prevent"]))},[u(V,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:c(()=>[t.forexStore.isShowModal.withdraw?(n(),x(g,{key:0,size:"lg",onClose:s[2]||(s[2]=_=>t.forexStore.closeModal("withdraw"))},{header:c(()=>[e("div",Lt,r(o.$t("Forex Withdraw")),1)]),body:c(()=>[e("div",eo,[e("div",null,[e("div",to,r(o.$t("To Wallet")),1),t.forexStore.wallets!=null?(n(),x(w,{key:0,text:"button"},{trigger:c(()=>[e("button",oo,[s[4]||(s[4]=e("i",{class:"bi bi-sort-down-alt mr-2"},null,-1)),d.wal!=null?(n(),x(y,{key:0,num:d.wal.balance,decimals:"2"},null,8,["num"])):p("",!0),b(" "+r(d.wal?d.wal.symbol:"Select Wallet"),1)])]),default:c(()=>[u(l,{class:C("text-start")},{default:c(()=>[e("div",so,[s[5]||(s[5]=e("i",{class:"bi bi-sort-down-alt mr-2"},null,-1)),b(" "+r(o.$t("Select Wallet")),1)]),(n(!0),i(S,null,P(t.forexStore.wallets,(_,k)=>(n(),x(f,{key:k,class:"items-between inline-flex w-full cursor-pointer border-b border-gray-200 px-4 py-2 hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700 focus:outline-none focus:ring-2 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500"},{default:c(()=>[e("a",{class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",onClick:D=>v.selectWallet(_)},[(n(),i("span",{key:_.balance,class:"mr-3"},[u(y,{num:_.balance,decimals:"2"},null,8,["num"])])),e("span",null,r(_.symbol),1)],8,ro)]),_:2},1024))),128))]),_:1})]),_:1})):p("",!0)]),e("div",null,[e("label",no,r(o.$t("Balance")),1),e("div",lo,[t.forexStore.account.balance!=null?(n(),i("input",{key:t.forexStore.account.balance,type:"number",placeholder:"Amount",disabled:"",readonly:"",value:(t.forexStore.account?t.forexStore.account.balance:1)*(t.userStore.currency?t.userStore.currency.rate:1)},null,8,ao)):p("",!0),e("span",null,r(t.userStore.currency?t.userStore.currency.symbol:"USD"),1)])])]),e("div",null,[e("label",io,r(o.$t("Amount")),1),e("div",co,[I(e("input",{"onUpdate:modelValue":s[0]||(s[0]=_=>d.amount=_),type:"number",required:"",min:"0.000001",step:"0.000001",placeholder:"Amount"},null,512),[[U,d.amount]]),e("span",null,r(t.userStore.currency?t.userStore.currency.symbol:"USD"),1)])])]),footer:c(()=>[e("div",uo,[u(h,{size:"sm",class:"flex items-center justify-between",color:"green",loading:t.forexStore.withdrawing,disabled:t.forexStore.withdrawing},{default:c(()=>[e("span",null,r(o.$t("Withdraw")),1)]),_:1},8,["loading","disabled"]),e("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[1]||(s[1]=_=>t.forexStore.closeModal("withdraw"))},r(o.$t("Close")),1)])]),_:1})):p("",!0)]),_:1})],32)}const yo=$(Zt,[["render",mo]]),fo={components:{Modal:E},props:{forexStore:{type:Object,required:!0}}},_o={class:"flex items-center text-lg"},bo=["onClick"],go={class:"p-2"},xo={class:"rounded-circle shadow-4",width:"64"},ho={class:"w-full"},vo={class:"flex justify-between"},po={class:"fw-bold fs-4"},wo={key:0,class:"fs-6 badge bg-success"},So={class:"fs-6 d-none d-md-block"},ko={class:"fs-6 text-warning"},$o={class:"text-success"},Mo={class:"flex justify-end"};function Co(o,s,t,a,d,v){const y=m("Modal"),f=N("lazy");return n(),x(V,{name:"modal",mode:"out-in","enter-active-class":"modal-enter-active","leave-active-class":"modal-leave-active"},{default:c(()=>[t.forexStore.isShowModal.selectInvestment?(n(),x(y,{key:0,size:"3xl",onClose:s[1]||(s[1]=l=>t.forexStore.closeModal("selectInvestment"))},{header:c(()=>[e("div",_o,r(o.$t("Forex Withdraw")),1)]),body:c(()=>[(n(!0),i(S,null,P(t.forexStore.forex_investment,(l,w)=>(n(),i("div",{key:w,class:C(["mb-2 flex cursor-pointer justify-start rounded border border-gray-200 p-2 shadow hover:bg-gray-200 dark:border-gray-500 dark:hover:bg-gray-600",t.forexStore.selected_inv&&t.forexStore.selected_inv.id==l.id?"bg-gray-200 dark:bg-gray-900":" dark:bg-gray-700"]),onClick:h=>{t.forexStore.closeModal("selectInvestment"),t.forexStore.selectInvestment(l)}},[e("div",go,[I(e("img",xo,null,512),[[f,"/assets/images/forex/investment/"+l.image]])]),e("div",ho,[e("div",vo,[e("div",po,[b(r(l.title)+" ",1),l.is_new==1?(n(),i("span",wo,r(o.$t("New")),1)):p("",!0)]),e("div",So,[s[2]||(s[2]=e("i",{class:"bi bi-clock"},null,-1)),b(" "+r(l.duration)+" "+r(o.$t("Days")),1)])]),e("small",ko,r(l.desc),1),e("div",null,[b(r(l.duration)+" "+r(o.$t("Days"))+" "+r(o.$t("Return on Investment"))+": ",1),e("span",$o,r(l.roi)+"%",1)])])],10,bo))),128))]),footer:c(()=>[e("div",Mo,[e("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[0]||(s[0]=l=>t.forexStore.closeModal("selectInvestment"))},r(o.$t("Close")),1)])]),_:1})):p("",!0)]),_:1})}const Po=$(fo,[["render",Co]]),Do={components:{ProfileCard:pe,SummaryCards:qe,Transactions:He,Investments:lt,InvestmentLogs:Pt,Signals:Nt,DepositModal:Jt,WithdrawModal:yo,InvestmentModal:Po},setup(){const o=se(),s=L(),t=J();async function a(){plat.kyc.kyc_status==1&&Number(plat.kyc.forex_restriction)===1&&(s.user||await s.fetch(),s.user.kyc_application||t.push("/identity"),s.user.kyc_application&&s.user.kyc_application.level<2&&s.user.kyc_application.status!=="approved"&&t.push("/identity"))}return Z(()=>{a()}),{userStore:s,forexStore:o}},created(){this.forexStore.fetch()}},Io={class:"grid gap-5 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-3"},jo={class:"grid grid-cols-2 gap-5"},qo={key:1,class:"card"};function Wo(o,s,t,a,d,v){var j,q,W,F,M,A,T,H,X,Y;const y=m("profile-card"),f=m("summary-cards"),l=m("transactions"),w=m("investments"),h=m("investment-logs"),g=m("signals"),_=m("deposit-modal"),k=m("withdraw-modal"),D=m("investment-modal");return n(),i(S,null,[e("div",Io,[u(y,{"user-store":a.userStore,"forex-store":a.forexStore},null,8,["user-store","forex-store"]),e("div",jo,[a.forexStore.account!=null?(n(),x(f,{key:0,"forex-account":a.forexStore.account,"account-balance":a.forexStore.account.balance*(((q=(j=a.userStore)==null?void 0:j.currency)==null?void 0:q.rate)??1),"account-profit":(a.forexStore.forex_log&&a.forexStore.forex_log.profit?a.forexStore.forex_log.profit:0)*(((F=(W=a.userStore)==null?void 0:W.currency)==null?void 0:F.rate)??1),"total-investment":a.forexStore.investment_logs_amount*(((A=(M=a.userStore)==null?void 0:M.currency)==null?void 0:A.rate)??1),"investments-profit":a.forexStore.investment_logs_profit*(((H=(T=a.userStore)==null?void 0:T.currency)==null?void 0:H.rate)??1),"currency-symbol":a.userStore.currency?a.userStore.currency.symbol:"USD","forex-log":a.forexStore.forex_log,"investment-logs-amount":a.forexStore.investment_logs_amount,"investment-logs-profit":a.forexStore.investment_logs_profit},null,8,["forex-account","account-balance","account-profit","total-investment","investments-profit","currency-symbol","forex-log","investment-logs-amount","investment-logs-profit"])):p("",!0)]),a.forexStore.account!=null?(n(),x(l,{key:0,"forex-store":a.forexStore,"forex-logs":a.forexStore.forex_logs,"user-currency-rate":((Y=(X=a.userStore)==null?void 0:X.currency)==null?void 0:Y.rate)??1,"user-currency-symbol":a.userStore.currency?a.userStore.currency.symbol:"USD"},null,8,["forex-store","forex-logs","user-currency-rate","user-currency-symbol"])):(n(),i("div",qo))]),a.forexStore.account!=null?(n(),x(w,{key:0,"forex-store":a.forexStore},null,8,["forex-store"])):p("",!0),a.forexStore.account!=null?(n(),x(h,{key:1,"forex-store":a.forexStore,"user-store":a.userStore},null,8,["forex-store","user-store"])):p("",!0),a.forexStore.account!=null?(n(),x(g,{key:2,"forex-signals":a.forexStore.account.signals},null,8,["forex-signals"])):p("",!0),u(_,{"forex-store":a.forexStore},null,8,["forex-store"]),u(k,{"forex-store":a.forexStore,"user-store":a.userStore},null,8,["forex-store","user-store"]),u(D,{"forex-store":a.forexStore},null,8,["forex-store"])],64)}const Ko=$(Do,[["render",Wo]]);export{Ko as default};
